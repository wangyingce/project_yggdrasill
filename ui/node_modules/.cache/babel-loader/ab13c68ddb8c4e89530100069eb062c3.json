{"remainingRequest":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/components/AddTemplate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/components/AddTemplate.vue","mtime":1618221568000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERyYXdGb3JjZSBmcm9tICJAL3BsdWdpbnMvZHJhd0ZvcmNlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IElucHV0UHJvcCBmcm9tICIuL0lucHV0UHJvcCI7CnZhciB0aW1lcjsKdmFyIGlkID0gMTsKdmFyIGNvbG9yaSA9IDA7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkVGVtcGxhdGUiLAogIGluamVjdDogWyJyZWxvYWQiXSwKICBjb21wb25lbnRzOiB7CiAgICBJbnB1dFByb3A6IElucHV0UHJvcAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICB2aXNpYmxlMjogZmFsc2UsCiAgICAgIG5vZGVzOiBbXSwKICAgICAgbGlua3M6IFtdLAogICAgICB0ZW1wTGlua3M6IFtdLAogICAgICBwcmVkZWZpbmVDb2xvcnM6IFsiI2ZmY2YzYyIsICIjYzk5MGMwIiwgIiNmNzk3NjciLCAiIzU3YzdlMyIsICIjZjE2NjY3IiwgIiNkOWM4YWUiLCAiIzhkY2M5MyIsICIjZWNiNWM5IiwgIiM0YzhlZGEiLCAiI2ZmYzQ1NCIsICIjZGE3MTk0IiwgIiM1Njk0ODAiXSwKICAgICAgdGFnZm9ybTogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHByb3BlcnRpZXM6IHt9LAogICAgICAgIHNpemU6ICIiLAogICAgICAgIGZpbGw6ICIiLAogICAgICAgIHN0cm9rZTogIiIsCiAgICAgICAgdHlwZTogIiIKICAgICAgfSwKICAgICAgdGFnUnVsZXM6IHsKICAgICAgICB0eXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6IqC54K55ZCNIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGZpbGw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nkuIDkuKrloavlhYXpopzoibIiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBzdHJva2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nkuIDkuKrmj4/ovrnpopzoibIiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XQogICAgICB9LAogICAgICBzdmdGb2N1czogZmFsc2UsCiAgICAgIGQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGFnczogZnVuY3Rpb24gdGFncygpIHsKICAgICAgdmFyIGFyciA9IFtdOwogICAgICB2YXIgdHlwZUFyciA9IFtdOwoKICAgICAgaWYgKHRoaXMubm9kZXMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBpdCA9IHRoaXMubm9kZXNbaV07CgogICAgICAgICAgaWYgKCF0eXBlQXJyLmluY2x1ZGVzKGl0LnR5cGUpKSB7CiAgICAgICAgICAgIGFyci5wdXNoKGl0KTsKICAgICAgICAgICAgdHlwZUFyci5wdXNoKGl0LnR5cGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGFycjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByZWRlZmluZUNvbG9yczogZnVuY3Rpb24gZ2V0UHJlZGVmaW5lQ29sb3JzKCkgewogICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVDb2xvcnNbY29sb3JpKytdOwogICAgfSwKICAgIG9wZW4xOiBmdW5jdGlvbiBvcGVuMShyb3cpIHsKICAgICAgcm93ID0gcm93IHx8IHt9OwogICAgICB0aGlzLnRhZ2Zvcm0gPSB7CiAgICAgICAgaWQ6IHJvdy5pZCB8fCBudWxsLAogICAgICAgIG5hbWU6IHJvdy5uYW1lIHx8ICIiLAogICAgICAgIHByb3BlcnRpZXM6IHJvdy5wcm9wZXJ0aWVzIHx8IHsKICAgICAgICAgIG5hbWU6ICIiCiAgICAgICAgfSwKICAgICAgICBzaXplOiByb3cuc2l6ZSB8fCAiIiwKICAgICAgICBmaWxsOiAocm93LnN0eWxlIHx8IHt9KS5maWxsIHx8IHRoaXMuZ2V0UHJlZGVmaW5lQ29sb3JzKCksCiAgICAgICAgc3Ryb2tlOiAocm93LnN0eWxlIHx8IHt9KS5zdHJva2UgfHwgIiNGRkZGRkYiLAogICAgICAgIHR5cGU6IHJvdy50eXBlIHx8ICIiCiAgICAgIH07CiAgICAgIGlmIChjb2xvcmkgPj0gdGhpcy5wcmVkZWZpbmVDb2xvcnMubGVuZ3RoKSBjb2xvcmkgPSAwOwogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgZGVsTm9kZTogZnVuY3Rpb24gZGVsTm9kZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBkID0gdGhpcy50YWdmb3JtOwogICAgICB0aGlzLiRjb25maXJtKCLnoa7lrprliKDpmaToioLngrkiICsgZC5uYW1lICsgIuWSjOebuOWFs+i/nue6v+eahOWQl++8nyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5ub2RlcyA9IF90aGlzLm5vZGVzLmZpbHRlcihmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYuaWQgIT0gZC5pZDsKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5saW5rcyA9IF90aGlzLmxpbmtzLmZpbHRlcihmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYudGFyZ2V0ICE9IGQuaWQgJiYgdi5zb3VyY2UgIT0gZC5pZDsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuY2xvc2UoKTsKCiAgICAgICAgX3RoaXMudXBkYXRlRDMoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIG9rOiBmdW5jdGlvbiBvaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLnRhZ2Zvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZCA9IF90aGlzMi50YWdmb3JtOwoKICAgICAgICAgIGlmICgvXlxkKy8udGVzdChkLnR5cGUpKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKCLoioLngrnlkI3kuI3og73ku6XmlbDlrZfkuLrlvIDlpLQiKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMyLiRyZWZzLmlucHV0UHJvcC5lbWl0SW5wdXQoKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBvYmpOYW1lID0gIiI7IC8vIOWchuWciOS4iuaYvuekuueahOWGheWuuQoKICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBkLnByb3BlcnRpZXMgfHwge307CgogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcGVydGllcykgewogICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wZXJ0aWVzLCBrZXkpICYmIHByb3BlcnRpZXNba2V5XSkgewogICAgICAgICAgICAgICAgb2JqTmFtZSA9IHByb3BlcnRpZXNba2V5XTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghb2JqTmFtZSkgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKCJwcm9wZXJ0aWVz6Iez5bCR6ZyA6KaB5b2V5YWl5LiA5p2h5YaF5a65Iik7CgogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSAvLyBpZiAoIShkLnByb3BlcnRpZXN8fHt9KS5uYW1lKSB7CiAgICAgICAgICAgIC8vICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7flvZXlhaVwcm9wZXJ0aWVz5LitbmFtZeeahOWAvCcpCiAgICAgICAgICAgIC8vICAgcmV0dXJuCiAgICAgICAgICAgIC8vIH0KCgogICAgICAgICAgICB2YXIgaW5kZXg7CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzMi5ub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHZhciBpdCA9IF90aGlzMi5ub2Rlc1tpXTsgLy8gaWYgKCFkLmlkICYmIHRoaXMubm9kZXNbaV0udHlwZSA9PSBkLnR5cGUpIHsKICAgICAgICAgICAgICAvLyAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6IqC54K55ZCN5bey5a2Y5ZyoJykKICAgICAgICAgICAgICAvLyAgIHJldHVybgogICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgaWYgKGl0LmlkID09IGQuaWQpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChpdC50eXBlID09IF90aGlzMi50YWdmb3JtLnR5cGUpIHsKICAgICAgICAgICAgICAgIGl0LnN0eWxlID0gewogICAgICAgICAgICAgICAgICBmaWxsOiBkLmZpbGwsCiAgICAgICAgICAgICAgICAgIHN0cm9rZTogZC5zdHJva2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgbm9kZXMgPSB7CiAgICAgICAgICAgICAgaWQ6IGQuaWQgfHwgaWQrKyArICIiLAogICAgICAgICAgICAgIG5hbWU6IG9iak5hbWUsCiAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIGZpbGw6IGQuZmlsbCwKICAgICAgICAgICAgICAgIHN0cm9rZTogZC5zdHJva2UKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHR5cGU6IGQudHlwZSwKICAgICAgICAgICAgICBzaXplOiAiMjAiLAogICAgICAgICAgICAgIHByb3BlcnRpZXM6IGQucHJvcGVydGllcwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgaWYgKGluZGV4ICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIF90aGlzMi5ub2Rlc1tpbmRleF0gPSBub2RlczsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIubm9kZXMucHVzaChub2Rlcyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwoKICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZUQzKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldENvbG9yOiBmdW5jdGlvbiBzZXRDb2xvcigpIHsKICAgICAgaWYgKHRoaXMudGFnZm9ybS50eXBlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaXQgPSB0aGlzLm5vZGVzW2ldOwoKICAgICAgICAgIGlmIChpdC50eXBlID09IHRoaXMudGFnZm9ybS50eXBlKSB7CiAgICAgICAgICAgIHRoaXMudGFnZm9ybS5maWxsID0gaXQuc3R5bGUuZmlsbDsKICAgICAgICAgICAgdGhpcy50YWdmb3JtLnN0cm9rZSA9IGl0LnN0eWxlLnN0cm9rZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb3BlbjI6IGZ1bmN0aW9uIG9wZW4yKCkgewogICAgICB0aGlzLnRlbXBMaW5rcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5saW5rcykpOwogICAgICB0aGlzLnZpc2libGUyID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZTI6IGZ1bmN0aW9uIGNsb3NlMigpIHsKICAgICAgdGhpcy52aXNpYmxlMiA9IGZhbHNlOwogICAgfSwKICAgIG9rMjogZnVuY3Rpb24gb2syKCkgewogICAgICB2YXIgbGlua3MgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wTGlua3MubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXQgPSB0aGlzLnRlbXBMaW5rc1tpXTsKCiAgICAgICAgaWYgKCFpdC50YXJnZXQgfHwgIWl0LnNvdXJjZSB8fCAhaXQudHlwZSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fooaXlhajkv6Hmga/vvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICgvXlxkKy8udGVzdChpdC50eXBlKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLlhbPns7vmj4/ov7DkuI3og73ku6XmlbDlrZfkuLrlvIDlpLQiKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFpdC5jb2xvcikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6npopzoibLvvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChpdC5zb3VyY2UgPT0gaXQudGFyZ2V0KSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoInNvdXJjZeWSjHRhcmdldOS4jeiDveS4uuWQjOS4gOS4quiKgueCue+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxpbmtzLmluY2x1ZGVzKGl0LnNvdXJjZSArIGl0LnRhcmdldCkgLy8gfHwgbGlua3MuaW5jbHVkZXMoaXQudGFyZ2V0ICsgaXQuc291cmNlKQogICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaciemHjeWkjeeahOi/nue6v++8gSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgIGxpbmtzLnB1c2goaXQuc291cmNlICsgaXQudGFyZ2V0KTsgLy8gbGlua3MucHVzaChpdC50YXJnZXQgKyBpdC5zb3VyY2UpOwogICAgICB9CgogICAgICB0aGlzLmxpbmtzID0gdGhpcy50ZW1wTGlua3M7CiAgICAgIHRoaXMuY2xvc2UyKCk7CiAgICAgIHRoaXMudXBkYXRlRDMoKTsKICAgIH0sCiAgICB1cGRhdGVEMzogZnVuY3Rpb24gdXBkYXRlRDMoKSB7CiAgICAgIHRoaXMuZC51cGRhdGUoewogICAgICAgIG5vZGVzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubm9kZXMpKSwKICAgICAgICBsaW5rczogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmxpbmtzKSkKICAgICAgfSk7CiAgICB9LAogICAgYWRkTGluazogZnVuY3Rpb24gYWRkTGluaygpIHsKICAgICAgdGhpcy50ZW1wTGlua3MucHVzaCh7CiAgICAgICAgaWQ6IGlkKysgKyAiIiwKICAgICAgICBzb3VyY2U6ICIiLAogICAgICAgIHNpemU6ICIxIiwKICAgICAgICBjb2xvcjogIiM1NDU0NTQiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIHRhcmdldDogIiIKICAgICAgfSk7CiAgICB9LAogICAgZGVsTGluazogZnVuY3Rpb24gZGVsTGluayhpKSB7CiAgICAgIHRoaXMudGVtcExpbmtzLnNwbGljZShpLCAxKTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJZEMwogICAgc3RhcnREMzogZnVuY3Rpb24gc3RhcnREMyhub2RlcywgbGlua3MpIHsKICAgICAgdGhpcy5kID0gRHJhd0ZvcmNlLmluaXQoInN2ZyIsIHsKICAgICAgICB3aWR0aDogd2luZG93LmRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgsCiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsCiAgICAgICAgbm9kZXM6IG5vZGVzLAogICAgICAgIGxpbmtzOiBsaW5rcywKICAgICAgICBzdmdDbGljazogdGhpcy5zdmdDbGljaywKICAgICAgICB0ZXh0Q2xpY2s6IHRoaXMub3BlbjIKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLiRyZWZzLnN2Z0Rpdi5pbm5lckhUTUwgPSAiIjsKICAgIH0sCiAgICBvcGVuMzogZnVuY3Rpb24gb3BlbjMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubm9kZXMgJiYgdGhpcy5ub2Rlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgdmFyIGlkcyA9IHRoaXMubm9kZXMubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5pZDsKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmtzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaXQgPSB0aGlzLmxpbmtzW2ldOwogICAgICAgICAgdmFyIGlkaTEgPSBpZHMuaW5kZXhPZihpdC50YXJnZXQpOwoKICAgICAgICAgIGlmIChpZGkxID4gLTEpIHsKICAgICAgICAgICAgaWRzLnNwbGljZShpZGkxLCAxKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgaWRpMiA9IGlkcy5pbmRleE9mKGl0LnNvdXJjZSk7CgogICAgICAgICAgaWYgKGlkaTIgPiAtMSkgewogICAgICAgICAgICBpZHMuc3BsaWNlKGlkaTIsIDEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaJgOacieiKgueCuemDvemcgOimgea3u+WKoOi/nuaOpe+8jOivt+ajgOafpe+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kcHJvbXB0KCLor7fovpPlhaXmqKHmnb/lkI0iLCAi5o+Q56S6IiwgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICBpbnB1dFBhdHRlcm46IC8uezAsNTB9Py8sCiAgICAgICAgICBpbnB1dEVycm9yTWVzc2FnZTogIuaooeadv+WQjeagvOW8j+S4jeato+ehriIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIG1vZGVsbmFtZTogdmFsdWUsCiAgICAgICAgICAgIG5vZGVzOiBfdGhpczMubm9kZXMsCiAgICAgICAgICAgIGVkZ2VzOiBfdGhpczMubGlua3MKICAgICAgICAgIH07CiAgICAgICAgICBheGlvcy5nZXQoIi9zYXZlTW9kZWw/bW9kZWxTdHJpbmc9IiArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShkYXRhKSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsgLy8g6LCD5o6l5Y+jCiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6Iez5bCR6ZyA6KaB5Lik5Liq6IqC54K577yBIik7CiAgICAgIH0KICAgIH0sCiAgICB3aW5kb3dSZXNpemU6IGZ1bmN0aW9uIHdpbmRvd1Jlc2l6ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnJlc2V0KCk7CgogICAgICAgIHRpbWVyID0gdW5kZWZpbmVkOwoKICAgICAgICBfdGhpczQuc3RhcnREMyhfdGhpczQubm9kZXMsIF90aGlzNC5saW5rcyk7CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgLy8g54K55Ye7c3Zn5pe255qE5aSE55CGCiAgICBzdmdDbGljazogZnVuY3Rpb24gc3ZnQ2xpY2soZGF0YSkgewogICAgICBpZiAoZGF0YSkgewogICAgICAgIHRoaXMub3BlbjEoZGF0YSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZC5oaWdobGlnaHRPYmplY3QoKTsKICAgICAgdGhpcy5zdmdGb2N1cyA9IGZhbHNlOwogICAgfSwKICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoKSB7CiAgICAgIHRoaXMubm9kZXMgPSBbXTsKICAgICAgdGhpcy5saW5rcyA9IFtdOwogICAgICB0aGlzLnN0YXJ0RDModGhpcy5ub2RlcywgdGhpcy5saW5rcyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZXREYXRhKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy53aW5kb3dSZXNpemUpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy53aW5kb3dSZXNpemUpOwogIH0KfTs="},null]}