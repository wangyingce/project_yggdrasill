{"remainingRequest":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/plugins/drawForce.js","dependencies":[{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/plugins/drawForce.js","mtime":1620638042000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9lcnVkYS9Eb2N1bWVudHMvR2l0SHViL3Byb2plY3RfeWdnZHJhc2lsbC91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Cgp2YXIgZDMgPSByZXF1aXJlKCdkMycpOwovKioKICog5YWz57O75Yqb5a+85ZCR5Zu+IC0gZDMuanPliLbkvZwgICDvvIhwYyx3YXDpgJrnlKjvvIkKICogQHBhcmFtIGlkICAgIHtzdHJpbmd9IOeItuWuueWZqGlkCiAqIEBwYXJhbSBjb25maWdQYXIgICAgICB7SlNPTuWvueixoX0gICAg6YWN572uCiAqLwoKCmV4cG9ydCBkZWZhdWx0IHsKICBjb25maWc6IHsKICAgIHdpZHRoOiAzMDAsCiAgICAvLyDmgLvnlLvluINzdmfnmoTlrr0KICAgIGhlaWdodDogMzAwLAogICAgbm9kZXM6IFtdLAogICAgbGlua3M6IFtdLAogICAgaXNTY2FsZTogdHJ1ZSwKICAgIC8v5piv5ZCm5ZCv55So57yp5pS+5bmz56e7em9vbeWKn+iDvQogICAgc2NhbGVFeHRlbnQ6IFswLjEsIDRdLAogICAgLy/nvKnmlL7nmoTmr5TkvovlsLoKICAgIGNoYXJnZVN0cmVuZ3RoOiA0MDAsCiAgICAvL+S4h+acieW8leWKmwogICAgY29sbGlkZTogNzAsCiAgICAvL+eisOaSnuWKm+eahOWkp+WwjyDvvIjoioLngrnkuYvpl7TnmoTpl7Tot53vvIkKICAgIHI6IDMwLAogICAgLy8g5aS05YOP55qE5Y2K5b6EIFszMCAtIDQ1XQogICAgbGlua0NvbG9yOiAnI2JhZDRlZCcsCiAgICAvL+mTvuaOpee6v+m7mOiupOeahOminOiJsgogICAgbWFya2VyQ29sb3I6ICJzdGVlbGJsdWUiLAogICAgcmVjdEZpbGw6ICJibHVlIiwKICAgIHRleHRGaWxsOiAiI2MyYzJjMiIsCiAgICBzdHJva2VXaWR0aDogMiwKICAgIC8vIOWktOWDj+WkluWbtOWMheijueeahOWuveW6pgogICAgc3ZnQ2xpY2s6IG51bGwKICB9LAogIG5vZGVEYXRhOiBudWxsLAogIGlkOiBudWxsLAogIHNpbXVsYXRpb246IG51bGwsCiAgU1ZHOiBudWxsLAogIGRlZnM6IG51bGwsCiAgbWFya2VyOiBudWxsLAogIHJlbE1hcF9nOiBudWxsLAogIGxpbmtzOiBudWxsLAogIGVkZ2VzOiBudWxsLAogIGNpcmNsZXM6IG51bGwsCiAgdGV4dHM6IG51bGwsCiAgbWFya2VyV2lkdGg6IDEwLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoaWQsIGNvbmZpZ1BhcikgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmlkID0gaWQ7CiAgICB0aGlzLm5vZGVEYXRhID0gbnVsbDsKICAgIHRoaXMuY29uZmlnID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbmZpZyksIGNvbmZpZ1Bhcik7CgogICAgdmFyIF90aGF0ID0gdGhpczsgLy8gdmFyIHRpbWVvdXQ7Ly/lrprml7blmagKICAgIC8vIDEuIOWIm+W7uuS4gOS4quWKm+WtpuaooeaLn+WZqAoKCiAgICB0aGlzLnNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24odGhpcy5jb25maWcubm9kZXMpLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKHRoaXMuY29uZmlnLmxpbmtzKS5pZChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5pZDsKICAgIH0pKS5mb3JjZSgiY2VudGVyIiwgZDMuZm9yY2VDZW50ZXIodGhpcy5jb25maWcud2lkdGggLyAyICsgMTUwLCB0aGlzLmNvbmZpZy5oZWlnaHQgLyAyKSkuZm9yY2UoImNoYXJnZSIsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCh0aGlzLmNvbmZpZy5jaGFyZ2VTdHJlbmd0aCkuZGlzdGFuY2VNYXgoMTAwKSkuZm9yY2UoImNvbGxpZGUiLCBkMy5mb3JjZUNvbGxpZGUodGhpcy5jb25maWcuY29sbGlkZSkuc3RyZW5ndGgoMC4yKS5pdGVyYXRpb25zKDUpKS5hbHBoYURlY2F5KDAuMik7IC8vIDIu5Yib5bu6c3Zn5qCH562+CgogICAgdGhpcy5TVkcgPSBkMy5zZWxlY3QoIiMiICsgaWQpLmFwcGVuZCgic3ZnIikuYXR0cigid2lkdGgiLCB0aGlzLmNvbmZpZy53aWR0aCkuYXR0cigiaGVpZ2h0IiwgdGhpcy5jb25maWcuaGVpZ2h0KS5jYWxsKGQzLnpvb20oKS5zY2FsZUV4dGVudCh0aGlzLmNvbmZpZy5zY2FsZUV4dGVudCkub24oInpvb20iLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgaWYgKF90aGlzLmNvbmZpZy5pc1NjYWxlKSB7CiAgICAgICAgX3RoYXQucmVsTWFwX2cuYXR0cigidHJhbnNmb3JtIiwgZXZlbnQudHJhbnNmb3JtKTsKICAgICAgfQogICAgfSkpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lICE9ICdjaXJjbGUnICYmIGUudGFyZ2V0LnRhZ05hbWUgIT0gJ0NJUkNMRScpIHsKICAgICAgICBfdGhpcy5ub2RlRGF0YSA9IG51bGw7CiAgICAgIH0KCiAgICAgIGlmIChfdGhpcy5jb25maWcuc3ZnQ2xpY2spIHsKICAgICAgICBfdGhpcy5jb25maWcuc3ZnQ2xpY2soX3RoaXMubm9kZURhdGEpOwogICAgICB9CiAgICB9KS5vbigiZGJsY2xpY2suem9vbSIsIG51bGwpOwogICAgdGhpcy5kZWZzID0gdGhpcy5TVkcuYXBwZW5kKCdkZWZzJyk7IC8vIOa3u+WKoOeureWktAoKICAgIHRoaXMubWFya2VyID0gdGhpcy5kZWZzLmFwcGVuZCgibWFya2VyIikuYXR0cignaWQnLCAibWFya2VyIikuYXR0cigibWFya2VyV2lkdGgiLCB0aGlzLm1hcmtlcldpZHRoKSAvL21hcmtlcuinhueql+eahOWuvQogICAgLmF0dHIoIm1hcmtlckhlaWdodCIsIHRoaXMubWFya2VyV2lkdGgpIC8vbWFya2Vy6KeG56qX55qE6auYCiAgICAuYXR0cigicmVmWCIsIHRoaXMuY29uZmlnLnIgKyA2ICsgdGhpcy5jb25maWcuc3Ryb2tlV2lkdGgpIC8vcmVmWOWSjHJlZlnvvIzmjIfnmoTmmK/lm77lvaLlhYPntKDlkoxtYXJrZXLov57mjqXnmoTkvY3nva7lnZDmoIcKICAgIC5hdHRyKCJyZWZZIiwgNCkuYXR0cigib3JpZW50IiwgImF1dG8iKSAvL29yaWVudD0iYXV0byLorr7nva7nrq3lpLTnmoTmlrnlkJHkuLroh6rliqjpgILlupTnur/mnaHnmoTmlrnlkJEKICAgIC5hdHRyKCJtYXJrZXJVbml0cyIsICJ1c2VyU3BhY2VPblVzZSIpIC8vbWFya2Vy5piv5ZCm6L+b6KGM57yp5pS+ICzpu5jorqTlgLzmmK9zdHJva2VXaWR0aCzkvJrnvKnmlL4KICAgIC5hcHBlbmQoInBhdGgiKS5hdHRyKCJkIiwgIk0gMCAwIDggNCAwIDhaIikuYXR0cigiZmlsbCIsIHRoaXMuY29uZmlnLm1hcmtlckNvbG9yKTsKICAgIHRoaXMuc2V0UGF0dGVybnMoKTsgLy8g5pS+5YWz57O75Zu+55qE5a655ZmoCgogICAgdGhpcy5yZWxNYXBfZyA9IHRoaXMuU1ZHLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwgInJlbE1hcF9nIikuYXR0cigid2lkdGgiLCB0aGlzLmNvbmZpZy53aWR0aCkuYXR0cigiaGVpZ2h0IiwgdGhpcy5jb25maWcuaGVpZ2h0KTsKICAgIHRoaXMuZ2VkZ2VzID0gdGhpcy5yZWxNYXBfZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdlZGdlcycpOwogICAgdGhpcy5zZXRFZGdlcygpOwogICAgdGhpcy5zZXRDaXJjbGVzKCk7CiAgICB0aGlzLnNpbXVsYXRpb25UaWNrKCk7CiAgICByZXR1cm4gdGhpczsKICB9LAogIC8vIOa3u+WKoOWkmuS4quWktOWDj+WbvueJh+eahCA8cGF0dGVybj4KICBzZXRQYXR0ZXJuczogZnVuY3Rpb24gc2V0UGF0dGVybnMoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLmRlZnMuc2VsZWN0QWxsKCJwYXR0ZXJuLnBhdHRlcm5jbGFzcyIpLnJlbW92ZSgpOwogICAgdmFyIHMgPSB0aGlzLmRlZnMuc2VsZWN0QWxsKCJwYXR0ZXJuLnBhdHRlcm5jbGFzcyIpLmRhdGEodGhpcy5jb25maWcubm9kZXMpOyAvLyBzLmV4aXQoKS5yZW1vdmUoKQoKICAgIHZhciBwYXR0ZXJucyA9IHMuZW50ZXIoKS5hcHBlbmQoInBhdHRlcm4iKS5hdHRyKCJjbGFzcyIsICJwYXR0ZXJuY2xhc3MiKS5hdHRyKCJpZCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAnYXZhdGFyJyArIF90aGlzMi5pZCArIGQuaWQ7CiAgICB9KS5hdHRyKCJ3aWR0aCIsICIxIikuYXR0cigiaGVpZ2h0IiwgIjEiKTsgLy8g5aeT5ZCN55qE6IOM5pmvCgogICAgcGF0dGVybnMuYXBwZW5kKCJyZWN0IikuYXR0cigieCIsICIwIikuYXR0cigieSIsIDApLmF0dHIoIndpZHRoIiwgMiAqIHRoaXMuY29uZmlnLnIpLmF0dHIoImhlaWdodCIsIDIgKiB0aGlzLmNvbmZpZy5yKS5hdHRyKCJmaWxsIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuc3R5bGUuZmlsbCB8fCBfdGhpczIuY29uZmlnLnJlY3RGaWxsOwogICAgfSk7IC8vIOWnk+WQjQoKICAgIHBhdHRlcm5zLmFwcGVuZCgidGV4dCIpLmF0dHIoIngiLCB0aGlzLmNvbmZpZy5yKS5hdHRyKCJ5IiwgMS4xNCAqIHRoaXMuY29uZmlnLnIpLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpLmF0dHIoImZpbGwiLCAiI2ZmZiIpLnN0eWxlKCJmb250LXNpemUiLCB0aGlzLmNvbmZpZy5yIC8gMykudGV4dChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5uYW1lOwogICAgfSk7CiAgfSwKICBzZXRFZGdlczogZnVuY3Rpb24gc2V0RWRnZXMoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICB2YXIgX3RoYXQgPSB0aGlzOwoKICAgIHRoaXMuZ2VkZ2VzLnNlbGVjdEFsbCgiZy5lZGdlIikucmVtb3ZlKCk7CiAgICB2YXIgcyA9IHRoaXMuZ2VkZ2VzLnNlbGVjdEFsbCgiZy5lZGdlIikuZGF0YSh0aGlzLmNvbmZpZy5saW5rcyk7IC8vIHMuZXhpdCgpLnJlbW92ZSgpCgogICAgdmFyIGVkZ2VzID0gcy5lbnRlcigpLmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwgImVkZ2UiKTsgLy8gNS4yIOa3u+WKoOe6vwoKICAgIGVkZ2VzLmFwcGVuZCgicGF0aCIpLmF0dHIoImNsYXNzIiwgImxpbmtzIikuYXR0cigiaWQiLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gJ3BhdGgnICsgX3RoYXQuaWQgKyBkLmlkOwogICAgfSkgLy8gdGhpcy5jb25maWcuciArIHRoaXMubWFya2VyV2lkdGgg5ZyG5Y2K5b6E5Yqg566t5aS05a695bqmCiAgICAuYXR0cigiZCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAiTSIgKyAoX3RoYXQuY29uZmlnLnIgKyBfdGhhdC5tYXJrZXJXaWR0aCkgKyAiLCIgKyAwICsgIiBMIiArIGdldERpcyhkLnNvdXJjZSwgZC50YXJnZXQpICsgIiwwIjsKICAgIH0pLnN0eWxlKCJtYXJrZXItZW5kIiwgInVybCgjbWFya2VyKSIpLmF0dHIoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHZhciBzdHIgPSBkLmNvbG9yID8gZC5jb2xvciA6IF90aGF0LmNvbmZpZy5saW5rQ29sb3I7CiAgICAgIHJldHVybiBzdHI7CiAgICB9KTsgLy8g5paH5pys5qCH562+ICDlnZDmoIfvvIh4LHnvvInku6Pooagg5paH5pys55qE5bem5LiL6KeS55qE54K5CgogICAgZWRnZXMuYXBwZW5kKCJ0ZXh0IikuYXR0cigiY2xhc3MiLCAidGV4dHMiKS5hdHRyKCd5JywgLTIpLmF0dHIoJ2ZpbGwnLCB0aGlzLmNvbmZpZy50ZXh0RmlsbCkuYXR0cigidGV4dC1hbmNob3IiLCAiZW5kIikuc3R5bGUoImN1cnNvciIsICJwb2ludGVyIikuc3R5bGUoImZvbnQtc2l6ZSIsIDgpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQudHlwZTsKICAgIH0pLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdmaWxsJywgJyNmZmZmZmYnKS5zdHlsZSgiZm9udC1zaXplIiwgMTApOwogICAgfSkub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkgewogICAgICBkMy5zZWxlY3QodGhpcykuYXR0cignZmlsbCcsIF90aGF0LmNvbmZpZy50ZXh0RmlsbCkuc3R5bGUoImZvbnQtc2l6ZSIsIDgpOwogICAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpczMuY29uZmlnLnRleHRDbGljayAmJiBfdGhpczMuY29uZmlnLnRleHRDbGljaygpOwogICAgfSk7IC8vIC5hcHBlbmQoJ3RleHRQYXRoJykuYXR0cigneXhsaW5rOmhyZWYnLCBmdW5jdGlvbihkKSB7CiAgICAvLyAgIHJldHVybiAoInVybCgjcGF0aCIgKyBfdGhhdC5pZCArIGQuaWQgKyAiKSIpCiAgICAvLyB9KQoKICAgIHRoaXMuZWRnZXMgPSB0aGlzLmdlZGdlcy5zZWxlY3RBbGwoImcuZWRnZSIpOwogICAgdGhpcy5saW5rcyA9IHRoaXMuZ2VkZ2VzLnNlbGVjdEFsbCgicGF0aC5saW5rcyIpOwogICAgdGhpcy50ZXh0cyA9IHRoaXMuZ2VkZ2VzLnNlbGVjdEFsbCgidGV4dC50ZXh0cyIpOwogIH0sCiAgLy8g5YWz57O75Zu+5re75Yqg55So5LqO5pi+56S65aS05YOP55qE6IqC54K5CiAgc2V0Q2lyY2xlczogZnVuY3Rpb24gc2V0Q2lyY2xlcygpIHsKICAgIHZhciBfdGhhdCA9IHRoaXM7CgogICAgdGhpcy5yZWxNYXBfZy5zZWxlY3RBbGwoImNpcmNsZS5jaXJjbGVjbGFzcyIpLnJlbW92ZSgpOwogICAgdmFyIHMgPSB0aGlzLnJlbE1hcF9nLnNlbGVjdEFsbCgiY2lyY2xlLmNpcmNsZWNsYXNzIikuZGF0YSh0aGlzLmNvbmZpZy5ub2Rlcyk7IC8vIHMuZXhpdCgpLnJlbW92ZSgpCgogICAgcy5lbnRlcigpLmFwcGVuZCgiY2lyY2xlIikuYXR0cigiY2xhc3MiLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gImNpcmNsZWNsYXNzIGkiICsgZC50eXBlS2V5OwogICAgfSkuc3R5bGUoImN1cnNvciIsICJwb2ludGVyIikuYXR0cigiZmlsbCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiAidXJsKCNhdmF0YXIiICsgX3RoYXQuaWQgKyBkLmlkICsgIikiOwogICAgfSkuYXR0cigic3Ryb2tlIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuc3R5bGUuc3Ryb2tlIHx8ICIjY2NmMWZjIjsKICAgIH0pLmF0dHIoInN0cm9rZS13aWR0aCIsIHRoaXMuY29uZmlnLnN0cm9rZVdpZHRoKS5hdHRyKCJyIiwgdGhpcy5jb25maWcucikub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ3N0cm9rZS13aWR0aCcsICc0Jyk7CiAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdzdHJva2UnLCAnI2EzZTVmOScpOwogICAgfSkub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkgewogICAgICBkMy5zZWxlY3QodGhpcykuYXR0cignc3Ryb2tlLXdpZHRoJywgX3RoYXQuY29uZmlnLnN0cm9rZVdpZHRoKTsKICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuc3R5bGUuc3Ryb2tlIHx8ICIjY2NmMWZjIjsKICAgICAgfSk7CiAgICB9KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQsIGQpIHsKICAgICAgX3RoYXQubm9kZURhdGEgPSBkOwogICAgfSkub24oImRibGNsaWNrIiwgZnVuY3Rpb24gKGV2ZW50LCBkKSB7CiAgICAgIF90aGF0LmhpZ2hsaWdodE9iamVjdChkKTsKICAgIH0pLmNhbGwoZHJhZyh0aGlzLnNpbXVsYXRpb24pKTsKICAgIHRoaXMuY2lyY2xlcyA9IHRoaXMucmVsTWFwX2cuc2VsZWN0QWxsKCJjaXJjbGUuY2lyY2xlY2xhc3MiKTsKICB9LAogIHNpbXVsYXRpb25UaWNrOiBmdW5jdGlvbiBzaW11bGF0aW9uVGljaygpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHZhciBvZmZzZXQgPSB0aGlzLmNvbmZpZy5yICsgdGhpcy5tYXJrZXJXaWR0aDsKICAgIHRoaXMuc2ltdWxhdGlvbi5vbigidGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8g5L+u5pS55q+P5p2h5a655ZmoZWRnZeeahOS9jee9rgogICAgICBfdGhpczQuZWRnZXMuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZ2V0VHJhbnNmb3JtKGQuc291cmNlLCBkLnRhcmdldCwgZ2V0RGlzKGQuc291cmNlLCBkLnRhcmdldCkpOwogICAgICB9KTsgLy8g5L+u5pS55q+P5p2h57q/bGlua+S9jee9rgoKCiAgICAgIF90aGlzNC5saW5rcy5hdHRyKCJkIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gIk0iICsgKF90aGlzNC5jb25maWcuciArIF90aGlzNC5tYXJrZXJXaWR0aCkgKyAiLCIgKyAwICsgIiBMIiArIGdldERpcyhkLnNvdXJjZSwgZC50YXJnZXQpICsgIiwwIjsKICAgICAgfSk7IC8vIOS/ruaUuee6v+S4reWFs+ezu+aWh+Wtl3RleHTnmoTkvY3nva4g5Y+KIOaWh+Wtl+eahOWPjeatowoKCiAgICAgIF90aGlzNC50ZXh0cy5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoZC50YXJnZXQueCA+IGQuc291cmNlLngpIHsKICAgICAgICAgIHJldHVybiBnZXREaXMoZC5zb3VyY2UsIGQudGFyZ2V0KSAtIG9mZnNldDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIG9mZnNldDsKICAgICAgICB9IC8vIHJldHVybiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCArIDQwCgogICAgICB9KSAvLyAuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIC8vICAgcmV0dXJuIGdldERpcyhkLnNvdXJjZSwgZC50YXJnZXQpIC8gMgogICAgICAvLyB9KQogICAgICAuYXR0cigidGV4dC1hbmNob3IiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIGlmIChkLnNvdXJjZS54ID4gZC50YXJnZXQueCkgewogICAgICAgICAgcmV0dXJuICdzdGFydCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAnZW5kJzsKICAgICAgICB9IC8vIHJldHVybiBkLnRhcmdldC54IC0gZC5zb3VyY2UueCArIDQwCgogICAgICB9KSAvLyAuYXR0cigieCIsIHRoaXMuY29uZmlnLnIgKyB0aGlzLm1hcmtlcldpZHRoKQogICAgICAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAvLyDmm7TmlrDmlofmnKzlj43mraMKICAgICAgICBpZiAoZC50YXJnZXQueCA8IGQuc291cmNlLngpIHsKICAgICAgICAgIHZhciB4ID0gZ2V0RGlzKGQuc291cmNlLCBkLnRhcmdldCkgLyAyOwogICAgICAgICAgcmV0dXJuICdyb3RhdGUoMTgwICcgKyB4ICsgJyAnICsgMCArICcpJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuICdyb3RhdGUoMCknOwogICAgICAgIH0KICAgICAgfSk7IC8vIOS/ruaUueiKgueCueeahOS9jee9rgoKCiAgICAgIF90aGlzNC5jaXJjbGVzLmF0dHIoImN4IiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC54OwogICAgICB9KS5hdHRyKCJjeSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQueTsKICAgICAgfSk7CiAgICB9KTsKICB9LAoKICAvKioKICAgKiDmm7TmlrDop4blm74KICAgKi8KICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShjb25maWdQYXIpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHRoaXMuY29uZmlnID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbmZpZyksIGNvbmZpZ1Bhcik7CiAgICB0aGlzLnNpbXVsYXRpb24ubm9kZXModGhpcy5jb25maWcubm9kZXMpLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKHRoaXMuY29uZmlnLmxpbmtzKS5pZChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5pZDsKICAgIH0pKS5hbHBoYVRhcmdldCgwLjIpLnJlc3RhcnQoKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpczUuc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTsKICAgIH0sIDIwMCk7CiAgICB0aGlzLnNldFBhdHRlcm5zKCk7CiAgICB0aGlzLnNldEVkZ2VzKCk7CiAgICB0aGlzLnNldENpcmNsZXMoKTsKICB9LAogIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKHR4dCwgYXR0cnMpIHsKICAgIGlmICghdHh0KSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KCiAgICB2YXIgcmVzID0gW107CiAgICB0aGlzLmNvbmZpZy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgYXR0ciA9IGF0dHJzW2ldOwoKICAgICAgICBpZiAodlthdHRyXSAmJiB2W2F0dHJdLmluZGV4T2YodHh0KSA+IC0xKSB7CiAgICAgICAgICByZXMucHVzaCh2KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHJlczsKICB9LAogIGhpZ2hsaWdodGVkOiBudWxsLAogIGRlcGVuZHNOb2RlOiBbXSwKICBkZXBlbmRzTGlua0FuZFRleHQ6IFtdLAogIGhpZ2hsaWdodE9iamVjdDogZnVuY3Rpb24gaGlnaGxpZ2h0T2JqZWN0KG9iaikgewogICAgdmFyIF90aGF0ID0gdGhpczsKCiAgICBpZiAob2JqKSB7CiAgICAgIHZhciBvYmpJbmRleCA9IG9iai5pbmRleDsKICAgICAgX3RoYXQuZGVwZW5kc05vZGUgPSBfdGhhdC5kZXBlbmRzTm9kZS5jb25jYXQoW29iakluZGV4XSk7CiAgICAgIF90aGF0LmRlcGVuZHNMaW5rQW5kVGV4dCA9IF90aGF0LmRlcGVuZHNMaW5rQW5kVGV4dC5jb25jYXQoW29iakluZGV4XSk7CgogICAgICBfdGhhdC5jb25maWcubGlua3MuZm9yRWFjaChmdW5jdGlvbiAobGtJdGVtKSB7CiAgICAgICAgaWYgKG9iakluZGV4ID09IGxrSXRlbVsnc291cmNlJ11bJ2luZGV4J10pIHsKICAgICAgICAgIF90aGF0LmRlcGVuZHNOb2RlID0gX3RoYXQuZGVwZW5kc05vZGUuY29uY2F0KFtsa0l0ZW0udGFyZ2V0LmluZGV4XSk7CiAgICAgICAgfSBlbHNlIGlmIChvYmpJbmRleCA9PSBsa0l0ZW1bJ3RhcmdldCddWydpbmRleCddKSB7CiAgICAgICAgICBfdGhhdC5kZXBlbmRzTm9kZSA9IF90aGF0LmRlcGVuZHNOb2RlLmNvbmNhdChbbGtJdGVtLnNvdXJjZS5pbmRleF0pOwogICAgICAgIH0KICAgICAgfSk7IC8vIOmakOiXj+iKgueCuQoKCiAgICAgIF90aGF0LlNWRy5zZWxlY3RBbGwoJ2NpcmNsZScpLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBfdGhhdC5kZXBlbmRzTm9kZS5pbmRleE9mKGQuaW5kZXgpID09IC0xOwogICAgICB9KS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwLjEpOyAvLyDpmpDol4/nur8KCgogICAgICBfdGhhdC5TVkcuc2VsZWN0QWxsKCcuZWRnZScpLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgIC8vIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBfdGhhdC5kZXBlbmRzTGlua0FuZFRleHQuaW5kZXhPZihkLnNvdXJjZS5pbmRleCkgPT0gLTEgJiYgX3RoYXQuZGVwZW5kc0xpbmtBbmRUZXh0LmluZGV4T2YoZC50YXJnZXQuaW5kZXgpID09IC0xOwogICAgICB9KS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwLjEpOwogICAgfSBlbHNlIHsKICAgICAgLy8g5oGi5aSN6ZqQ6JeP55qE57q/CiAgICAgIF90aGF0LlNWRy5zZWxlY3RBbGwoJ2NpcmNsZScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpOyAvLyDmgaLlpI3pmpDol4/nmoTnur8KCgogICAgICBfdGhhdC5TVkcuc2VsZWN0QWxsKCcuZWRnZScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpOwoKICAgICAgX3RoYXQuaGlnaGxpZ2h0ZWQgPSBudWxsOwogICAgICBfdGhhdC5kZXBlbmRzTm9kZSA9IFtdOwogICAgICBfdGhhdC5kZXBlbmRzTGlua0FuZFRleHQgPSBbXTsKICAgIH0KICB9Cn07CgpmdW5jdGlvbiBkcmFnKHNpbXVsYXRpb24pIHsKICBmdW5jdGlvbiBkcmFnc3RhcnRlZChldmVudCkgewogICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMC4xKS5yZXN0YXJ0KCk7CiAgICBldmVudC5zdWJqZWN0LmZ4ID0gZXZlbnQuc3ViamVjdC54OwogICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50LnN1YmplY3QueTsKICB9CgogIGZ1bmN0aW9uIGRyYWdnZWQoZXZlbnQpIHsKICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC54OwogICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50Lnk7CiAgfQoKICBmdW5jdGlvbiBkcmFnZW5kZWQoZXZlbnQpIHsKICAgIGlmICghZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgZXZlbnQuc3ViamVjdC5meCA9IG51bGw7CiAgICBldmVudC5zdWJqZWN0LmZ5ID0gbnVsbDsKICB9CgogIHJldHVybiBkMy5kcmFnKCkub24oInN0YXJ0IiwgZHJhZ3N0YXJ0ZWQpLm9uKCJkcmFnIiwgZHJhZ2dlZCkub24oImVuZCIsIGRyYWdlbmRlZCk7Cn0gLy8g5rGC5Lik54K56Ze055qE6Led56a7CgoKZnVuY3Rpb24gZ2V0RGlzKHMsIHQpIHsKICByZXR1cm4gTWF0aC5zcXJ0KChzLnggLSB0LngpICogKHMueCAtIHQueCkgKyAocy55IC0gdC55KSAqIChzLnkgLSB0LnkpKTsKfSAvLyDmsYLlhYPntKDnp7vliqjliLDnm67moIfkvY3nva7miYDpnIDopoHnmoQgdHJhbnNmb3JtIOWxnuaAp+WAvAoKCmZ1bmN0aW9uIGdldFRyYW5zZm9ybShzb3VyY2UsIHRhcmdldCwgX2RpcykgewogIHZhciByOwoKICBpZiAodGFyZ2V0LnggPiBzb3VyY2UueCkgewogICAgaWYgKHRhcmdldC55ID4gc291cmNlLnkpIHsKICAgICAgciA9IE1hdGguYXNpbigodGFyZ2V0LnkgLSBzb3VyY2UueSkgLyBfZGlzKTsKICAgIH0gZWxzZSB7CiAgICAgIHIgPSBNYXRoLmFzaW4oKHNvdXJjZS55IC0gdGFyZ2V0LnkpIC8gX2Rpcyk7CiAgICAgIHIgPSAtcjsKICAgIH0KICB9IGVsc2UgewogICAgaWYgKHRhcmdldC55ID4gc291cmNlLnkpIHsKICAgICAgciA9IE1hdGguYXNpbigodGFyZ2V0LnkgLSBzb3VyY2UueSkgLyBfZGlzKTsKICAgICAgciA9IE1hdGguUEkgLSByOwogICAgfSBlbHNlIHsKICAgICAgciA9IE1hdGguYXNpbigoc291cmNlLnkgLSB0YXJnZXQueSkgLyBfZGlzKTsKICAgICAgciAtPSBNYXRoLlBJOwogICAgfQogIH0KCiAgciA9IHIgKiAoMTgwIC8gTWF0aC5QSSk7CiAgcmV0dXJuICJ0cmFuc2xhdGUoIiArIHNvdXJjZS54ICsgIiwiICsgc291cmNlLnkgKyAiKXJvdGF0ZSgiICsgciArICIpIjsKfQ=="},null]}