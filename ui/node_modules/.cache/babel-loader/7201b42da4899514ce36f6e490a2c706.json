{"remainingRequest":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/components/AddTemplate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/components/AddTemplate.vue","mtime":1620978123010},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEcmF3Rm9yY2UgZnJvbSAiQC9wbHVnaW5zL2RyYXdGb3JjZSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBJbnB1dFByb3AgZnJvbSAiLi9JbnB1dFByb3AiOwoKZnVuY3Rpb24gZ2V0UGFyYW1ldGVyKG5hbWUsIHNlYXJjaCkgewogIHZhciByZWcgPSBuZXcgUmVnRXhwKCcoXnwmKScgKyBuYW1lICsgJz0oW14mXSopKCZ8JCknLCAnaScpOwogIHNlYXJjaCA9IHNlYXJjaCB8fCB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogIHZhciByID0gc2VhcmNoLnN1YnN0cigxKS5tYXRjaChyZWcpOwogIGlmIChyICE9IG51bGwpIHJldHVybiB1bmVzY2FwZShyWzJdKTsKICByZXR1cm4gbnVsbDsKfQoKdmFyIHRpbWVyOwp2YXIgaWQgPSAxOwp2YXIgY29sb3JpID0gMDsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRUZW1wbGF0ZSIsCiAgaW5qZWN0OiBbInJlbG9hZCJdLAogIGNvbXBvbmVudHM6IHsKICAgIElucHV0UHJvcDogSW5wdXRQcm9wCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHZpc2libGUyOiBmYWxzZSwKICAgICAgbm9kZXM6IFtdLAogICAgICBsaW5rczogW10sCiAgICAgIHRlbXBMaW5rczogW10sCiAgICAgIHByZWRlZmluZUNvbG9yczogWyIjZmZjZjNjIiwgIiNjOTkwYzAiLCAiI2Y3OTc2NyIsICIjNTdjN2UzIiwgIiNmMTY2NjciLCAiI2Q5YzhhZSIsICIjOGRjYzkzIiwgIiNlY2I1YzkiLCAiIzRjOGVkYSIsICIjZmZjNDU0IiwgIiNkYTcxOTQiLCAiIzU2OTQ4MCJdLAogICAgICB0YWdmb3JtOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgcHJvcGVydGllczoge30sCiAgICAgICAgc2l6ZTogIiIsCiAgICAgICAgZmlsbDogIiIsCiAgICAgICAgc3Ryb2tlOiAiIiwKICAgICAgICB0eXBlOiAiIgogICAgICB9LAogICAgICB0YWdSdWxlczogewogICAgICAgIHR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXoioLngrnlkI0iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZmlsbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeS4gOS4quWhq+WFheminOiJsiIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIHN0cm9rZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeS4gOS4quaPj+i+ueminOiJsiIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHN2Z0ZvY3VzOiBmYWxzZSwKICAgICAgZDogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YWdzOiBmdW5jdGlvbiB0YWdzKCkgewogICAgICB2YXIgYXJyID0gW107CiAgICAgIHZhciB0eXBlQXJyID0gW107CgogICAgICBpZiAodGhpcy5ub2RlcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGl0ID0gdGhpcy5ub2Rlc1tpXTsKCiAgICAgICAgICBpZiAoIXR5cGVBcnIuaW5jbHVkZXMoaXQudHlwZSkpIHsKICAgICAgICAgICAgYXJyLnB1c2goaXQpOwogICAgICAgICAgICB0eXBlQXJyLnB1c2goaXQudHlwZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gYXJyOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJlZGVmaW5lQ29sb3JzOiBmdW5jdGlvbiBnZXRQcmVkZWZpbmVDb2xvcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZUNvbG9yc1tjb2xvcmkrK107CiAgICB9LAogICAgb3BlbjE6IGZ1bmN0aW9uIG9wZW4xKHJvdykgewogICAgICByb3cgPSByb3cgfHwge307CiAgICAgIHRoaXMudGFnZm9ybSA9IHsKICAgICAgICBpZDogcm93LmlkIHx8IG51bGwsCiAgICAgICAgbmFtZTogcm93Lm5hbWUgfHwgIiIsCiAgICAgICAgcHJvcGVydGllczogcm93LnByb3BlcnRpZXMgfHwgewogICAgICAgICAgbmFtZTogIiIKICAgICAgICB9LAogICAgICAgIHNpemU6IHJvdy5zaXplIHx8ICIiLAogICAgICAgIGZpbGw6IChyb3cuc3R5bGUgfHwge30pLmZpbGwgfHwgdGhpcy5nZXRQcmVkZWZpbmVDb2xvcnMoKSwKICAgICAgICBzdHJva2U6IChyb3cuc3R5bGUgfHwge30pLnN0cm9rZSB8fCAiI0ZGRkZGRiIsCiAgICAgICAgdHlwZTogcm93LnR5cGUgfHwgIiIKICAgICAgfTsKICAgICAgaWYgKGNvbG9yaSA+PSB0aGlzLnByZWRlZmluZUNvbG9ycy5sZW5ndGgpIGNvbG9yaSA9IDA7CiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBkZWxOb2RlOiBmdW5jdGlvbiBkZWxOb2RlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGQgPSB0aGlzLnRhZ2Zvcm07CiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruWumuWIoOmZpOiKgueCuSIgKyBkLm5hbWUgKyAi5ZKM55u45YWz6L+e57q/55qE5ZCX77yfIiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLm5vZGVzID0gX3RoaXMubm9kZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5pZCAhPSBkLmlkOwogICAgICAgIH0pOwogICAgICAgIF90aGlzLmxpbmtzID0gX3RoaXMubGlua3MuZmlsdGVyKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi50YXJnZXQgIT0gZC5pZCAmJiB2LnNvdXJjZSAhPSBkLmlkOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5jbG9zZSgpOwoKICAgICAgICBfdGhpcy51cGRhdGVEMygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgb2s6IGZ1bmN0aW9uIG9rKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMudGFnZm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBkID0gX3RoaXMyLnRhZ2Zvcm07CgogICAgICAgICAgaWYgKC9eXGQrLy50ZXN0KGQudHlwZSkpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLndhcm5pbmcoIuiKgueCueWQjeS4jeiDveS7peaVsOWtl+S4uuW8gOWktCIpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpczIuJHJlZnMuaW5wdXRQcm9wLmVtaXRJbnB1dCgpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczIuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG9iak5hbWUgPSAiIjsgLy8g5ZyG5ZyI5LiK5pi+56S655qE5YaF5a65CgogICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IGQucHJvcGVydGllcyB8fCB7fTsKCiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BlcnRpZXMsIGtleSkgJiYgcHJvcGVydGllc1trZXldKSB7CiAgICAgICAgICAgICAgICBvYmpOYW1lID0gcHJvcGVydGllc1trZXldOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFvYmpOYW1lKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLndhcm5pbmcoInByb3BlcnRpZXPoh7PlsJHpnIDopoHlvZXlhaXkuIDmnaHlhoXlrrkiKTsKCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IC8vIGlmICghKGQucHJvcGVydGllc3x8e30pLm5hbWUpIHsKICAgICAgICAgICAgLy8gICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+W9leWFpXByb3BlcnRpZXPkuK1uYW1l55qE5YC8JykKICAgICAgICAgICAgLy8gICByZXR1cm4KICAgICAgICAgICAgLy8gfQoKCiAgICAgICAgICAgIHZhciBpbmRleDsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMyLm5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdmFyIGl0ID0gX3RoaXMyLm5vZGVzW2ldOyAvLyBpZiAoIWQuaWQgJiYgdGhpcy5ub2Rlc1tpXS50eXBlID09IGQudHlwZSkgewogICAgICAgICAgICAgIC8vICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfoioLngrnlkI3lt7LlrZjlnKgnKQogICAgICAgICAgICAgIC8vICAgcmV0dXJuCiAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICBpZiAoaXQuaWQgPT0gZC5pZCkgewogICAgICAgICAgICAgICAgaW5kZXggPSBpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGl0LnR5cGUgPT0gX3RoaXMyLnRhZ2Zvcm0udHlwZSkgewogICAgICAgICAgICAgICAgaXQuc3R5bGUgPSB7CiAgICAgICAgICAgICAgICAgIGZpbGw6IGQuZmlsbCwKICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBkLnN0cm9rZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBub2RlcyA9IHsKICAgICAgICAgICAgICBpZDogZC5pZCB8fCBpZCsrICsgIiIsCiAgICAgICAgICAgICAgbmFtZTogb2JqTmFtZSwKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgZmlsbDogZC5maWxsLAogICAgICAgICAgICAgICAgc3Ryb2tlOiBkLnN0cm9rZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgdHlwZTogZC50eXBlLAogICAgICAgICAgICAgIHNpemU6ICIyMCIsCiAgICAgICAgICAgICAgcHJvcGVydGllczogZC5wcm9wZXJ0aWVzCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoaW5kZXggIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgX3RoaXMyLm5vZGVzW2luZGV4XSA9IG5vZGVzOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi5ub2Rlcy5wdXNoKG5vZGVzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMyLm5vZGVzLnB1c2goKTsKCiAgICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwoKICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZUQzKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldENvbG9yOiBmdW5jdGlvbiBzZXRDb2xvcigpIHsKICAgICAgaWYgKHRoaXMudGFnZm9ybS50eXBlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaXQgPSB0aGlzLm5vZGVzW2ldOwoKICAgICAgICAgIGlmIChpdC50eXBlID09IHRoaXMudGFnZm9ybS50eXBlKSB7CiAgICAgICAgICAgIHRoaXMudGFnZm9ybS5maWxsID0gaXQuc3R5bGUuZmlsbDsKICAgICAgICAgICAgdGhpcy50YWdmb3JtLnN0cm9rZSA9IGl0LnN0eWxlLnN0cm9rZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb3BlbjI6IGZ1bmN0aW9uIG9wZW4yKCkgewogICAgICB0aGlzLnRlbXBMaW5rcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5saW5rcykpOwogICAgICB0aGlzLnZpc2libGUyID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZTI6IGZ1bmN0aW9uIGNsb3NlMigpIHsKICAgICAgdGhpcy52aXNpYmxlMiA9IGZhbHNlOwogICAgfSwKICAgIG9rMjogZnVuY3Rpb24gb2syKCkgewogICAgICB2YXIgbGlua3MgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wTGlua3MubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXQgPSB0aGlzLnRlbXBMaW5rc1tpXTsKCiAgICAgICAgaWYgKCFpdC50YXJnZXQgfHwgIWl0LnNvdXJjZSB8fCAhaXQudHlwZSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fooaXlhajkv6Hmga/vvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICgvXlxkKy8udGVzdChpdC50eXBlKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLlhbPns7vmj4/ov7DkuI3og73ku6XmlbDlrZfkuLrlvIDlpLQiKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFpdC5jb2xvcikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6npopzoibLvvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChpdC5zb3VyY2UgPT0gaXQudGFyZ2V0KSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoInNvdXJjZeWSjHRhcmdldOS4jeiDveS4uuWQjOS4gOS4quiKgueCue+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxpbmtzLmluY2x1ZGVzKGl0LnNvdXJjZSArIGl0LnRhcmdldCkgLy8gfHwgbGlua3MuaW5jbHVkZXMoaXQudGFyZ2V0ICsgaXQuc291cmNlKQogICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaciemHjeWkjeeahOi/nue6v++8gSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgIGxpbmtzLnB1c2goaXQuc291cmNlICsgaXQudGFyZ2V0KTsgLy8gbGlua3MucHVzaChpdC50YXJnZXQgKyBpdC5zb3VyY2UpOwogICAgICB9CgogICAgICB0aGlzLmxpbmtzID0gdGhpcy50ZW1wTGlua3M7CiAgICAgIHRoaXMuY2xvc2UyKCk7CiAgICAgIHRoaXMudXBkYXRlRDMoKTsKICAgIH0sCiAgICB1cGRhdGVEMzogZnVuY3Rpb24gdXBkYXRlRDMoKSB7CiAgICAgIHRoaXMuZC51cGRhdGUoewogICAgICAgIG5vZGVzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubm9kZXMpKSwKICAgICAgICBsaW5rczogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmxpbmtzKSkKICAgICAgfSk7CiAgICB9LAogICAgYWRkTGluazogZnVuY3Rpb24gYWRkTGluaygpIHsKICAgICAgdGhpcy50ZW1wTGlua3MucHVzaCh7CiAgICAgICAgaWQ6IGlkKysgKyAiIiwKICAgICAgICBzb3VyY2U6ICIiLAogICAgICAgIHNpemU6ICIxIiwKICAgICAgICBjb2xvcjogIiM1NDU0NTQiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIHRhcmdldDogIiIKICAgICAgfSk7CiAgICB9LAogICAgZGVsTGluazogZnVuY3Rpb24gZGVsTGluayhpKSB7CiAgICAgIHRoaXMudGVtcExpbmtzLnNwbGljZShpLCAxKTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJZEMwogICAgc3RhcnREMzogZnVuY3Rpb24gc3RhcnREMyhub2RlcywgbGlua3MpIHsKICAgICAgdGhpcy5kID0gRHJhd0ZvcmNlLmluaXQoInN2ZyIsIHsKICAgICAgICB3aWR0aDogd2luZG93LmRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgsCiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsCiAgICAgICAgbm9kZXM6IG5vZGVzLAogICAgICAgIGxpbmtzOiBsaW5rcywKICAgICAgICBzdmdDbGljazogdGhpcy5zdmdDbGljaywKICAgICAgICB0ZXh0Q2xpY2s6IHRoaXMub3BlbjIKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLiRyZWZzLnN2Z0Rpdi5pbm5lckhUTUwgPSAiIjsKICAgIH0sCiAgICBvcGVuMzogZnVuY3Rpb24gb3BlbjMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubm9kZXMgJiYgdGhpcy5ub2Rlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgdmFyIGlkcyA9IHRoaXMubm9kZXMubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5pZDsKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmtzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaXQgPSB0aGlzLmxpbmtzW2ldOwogICAgICAgICAgdmFyIGlkaTEgPSBpZHMuaW5kZXhPZihpdC50YXJnZXQpOwoKICAgICAgICAgIGlmIChpZGkxID4gLTEpIHsKICAgICAgICAgICAgaWRzLnNwbGljZShpZGkxLCAxKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgaWRpMiA9IGlkcy5pbmRleE9mKGl0LnNvdXJjZSk7CgogICAgICAgICAgaWYgKGlkaTIgPiAtMSkgewogICAgICAgICAgICBpZHMuc3BsaWNlKGlkaTIsIDEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaJgOacieiKgueCuemDvemcgOimgea3u+WKoOi/nuaOpe+8jOivt+ajgOafpe+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kcHJvbXB0KCLor7fovpPlhaXmqKHmnb/lkI0iLCAi5o+Q56S6IiwgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICBpbnB1dFBhdHRlcm46IC8uezAsNTB9Py8sCiAgICAgICAgICBpbnB1dEVycm9yTWVzc2FnZTogIuaooeadv+WQjeagvOW8j+S4jeato+ehriIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIHVzZXJjOiBfdGhpczMuJGNvb2tpZXMuZ2V0KCd5Z2cxNDEyJyksCiAgICAgICAgICAgIG1vZGVsbmFtZTogdmFsdWUsCiAgICAgICAgICAgIG5vZGVzOiBfdGhpczMubm9kZXMsCiAgICAgICAgICAgIGVkZ2VzOiBfdGhpczMubGlua3MKICAgICAgICAgIH07CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIGF4aW9zLmdldCgiL3NhdmVNb2RlbD9tb2RlbFN0cmluZz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGRhdGEpKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv53lrZjmiJDlip8iKTsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pOyAvLyDosIPmjqXlj6MKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLoh7PlsJHpnIDopoHkuKTkuKroioLngrnvvIEiKTsKICAgICAgfQogICAgfSwKICAgIHdpbmRvd1Jlc2l6ZTogZnVuY3Rpb24gd2luZG93UmVzaXplKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0aW1lcikgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQucmVzZXQoKTsKCiAgICAgICAgdGltZXIgPSB1bmRlZmluZWQ7CgogICAgICAgIF90aGlzNC5zdGFydEQzKF90aGlzNC5ub2RlcywgX3RoaXM0LmxpbmtzKTsKICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICAvLyDngrnlh7tzdmfml7bnmoTlpITnkIYKICAgIHN2Z0NsaWNrOiBmdW5jdGlvbiBzdmdDbGljayhkYXRhKSB7CiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgdGhpcy5vcGVuMShkYXRhKTsKICAgICAgfQoKICAgICAgdGhpcy5kLmhpZ2hsaWdodE9iamVjdCgpOwogICAgICB0aGlzLnN2Z0ZvY3VzID0gZmFsc2U7CiAgICB9LAogICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YSgpIHsKICAgICAgdGhpcy5ub2RlcyA9IFtdOwogICAgICB0aGlzLmxpbmtzID0gW107CiAgICAgIHRoaXMuc3RhcnREMyh0aGlzLm5vZGVzLCB0aGlzLmxpbmtzKTsKICAgIH0sCiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoaWQpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCIvZ2V0TW9kZWxEYXRhP21pZD0iICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPSAyMDAgfHwgcmVzcG9uc2UuZGF0YS5lcnJvcikgewogICAgICAgICAgdm0uJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5lcnJvciB8fCByZXNwb25zZS5zdGF0dXNUZXh0KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB2bS5ub2RlcyA9IGRhdGEubm9kZXMgfHwgW107CiAgICAgICAgdm0ubGlua3MgPSBkYXRhLmxpbmtzIHx8IFtdOwogICAgICAgIHZtLnN0YXJ0RDModm0ubm9kZXMsIHZtLmxpbmtzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgbWlkID0gZ2V0UGFyYW1ldGVyKCdtaWQnLCBsb2NhdGlvbi5zZWFyY2gpOwoKICAgIGlmIChtaWQpIHsKICAgICAgdGhpcy5pbml0RGF0YShtaWQpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0RGF0YSgpOwogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMud2luZG93UmVzaXplKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMud2luZG93UmVzaXplKTsKICB9Cn07"},null]}