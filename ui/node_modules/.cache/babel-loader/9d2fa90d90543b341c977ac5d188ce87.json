{"remainingRequest":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/components/AddTemplate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/components/AddTemplate.vue","mtime":1618221568000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERyYXdGb3JjZSBmcm9tICJAL3BsdWdpbnMvZHJhd0ZvcmNlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IElucHV0UHJvcCBmcm9tICIuL0lucHV0UHJvcCI7CnZhciB0aW1lcjsKdmFyIGlkID0gMTsKdmFyIGNvbG9yaSA9IDA7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkVGVtcGxhdGUiLAogIGluamVjdDogWyJyZWxvYWQiXSwKICBjb21wb25lbnRzOiB7CiAgICBJbnB1dFByb3A6IElucHV0UHJvcAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICB2aXNpYmxlMjogZmFsc2UsCiAgICAgIG5vZGVzOiBbXSwKICAgICAgbGlua3M6IFtdLAogICAgICB0ZW1wTGlua3M6IFtdLAogICAgICBwcmVkZWZpbmVDb2xvcnM6IFsiI2ZmY2YzYyIsICIjYzk5MGMwIiwgIiNmNzk3NjciLCAiIzU3YzdlMyIsICIjZjE2NjY3IiwgIiNkOWM4YWUiLCAiIzhkY2M5MyIsICIjZWNiNWM5IiwgIiM0YzhlZGEiLCAiI2ZmYzQ1NCIsICIjZGE3MTk0IiwgIiM1Njk0ODAiXSwKICAgICAgdGFnZm9ybTogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHByb3BlcnRpZXM6IHt9LAogICAgICAgIHNpemU6ICIiLAogICAgICAgIGZpbGw6ICIiLAogICAgICAgIHN0cm9rZTogIiIsCiAgICAgICAgdHlwZTogIiIKICAgICAgfSwKICAgICAgdGFnUnVsZXM6IHsKICAgICAgICB0eXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl6IqC54K55ZCNIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGZpbGw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nkuIDkuKrloavlhYXpopzoibIiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XSwKICAgICAgICBzdHJva2U6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nkuIDkuKrmj4/ovrnpopzoibIiLAogICAgICAgICAgdHJpZ2dlcjogImNoYW5nZSIKICAgICAgICB9XQogICAgICB9LAogICAgICBzdmdGb2N1czogZmFsc2UsCiAgICAgIGQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdGFnczogZnVuY3Rpb24gdGFncygpIHsKICAgICAgdmFyIGFyciA9IFtdOwogICAgICB2YXIgdHlwZUFyciA9IFtdOwoKICAgICAgaWYgKHRoaXMubm9kZXMpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBpdCA9IHRoaXMubm9kZXNbaV07CgogICAgICAgICAgaWYgKCF0eXBlQXJyLmluY2x1ZGVzKGl0LnR5cGUpKSB7CiAgICAgICAgICAgIGFyci5wdXNoKGl0KTsKICAgICAgICAgICAgdHlwZUFyci5wdXNoKGl0LnR5cGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGFycjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFByZWRlZmluZUNvbG9yczogZnVuY3Rpb24gZ2V0UHJlZGVmaW5lQ29sb3JzKCkgewogICAgICByZXR1cm4gdGhpcy5wcmVkZWZpbmVDb2xvcnNbY29sb3JpKytdOwogICAgfSwKICAgIG9wZW4xOiBmdW5jdGlvbiBvcGVuMShyb3cpIHsKICAgICAgcm93ID0gcm93IHx8IHt9OwogICAgICB0aGlzLnRhZ2Zvcm0gPSB7CiAgICAgICAgaWQ6IHJvdy5pZCB8fCBudWxsLAogICAgICAgIG5hbWU6IHJvdy5uYW1lIHx8ICIiLAogICAgICAgIHByb3BlcnRpZXM6IHJvdy5wcm9wZXJ0aWVzIHx8IHsKICAgICAgICAgIG5hbWU6ICIiCiAgICAgICAgfSwKICAgICAgICBzaXplOiByb3cuc2l6ZSB8fCAiIiwKICAgICAgICBmaWxsOiAocm93LnN0eWxlIHx8IHt9KS5maWxsIHx8IHRoaXMuZ2V0UHJlZGVmaW5lQ29sb3JzKCksCiAgICAgICAgc3Ryb2tlOiAocm93LnN0eWxlIHx8IHt9KS5zdHJva2UgfHwgIiNGRkZGRkYiLAogICAgICAgIHR5cGU6IHJvdy50eXBlIHx8ICIiCiAgICAgIH07CiAgICAgIGlmIChjb2xvcmkgPj0gdGhpcy5wcmVkZWZpbmVDb2xvcnMubGVuZ3RoKSBjb2xvcmkgPSAwOwogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgZGVsTm9kZTogZnVuY3Rpb24gZGVsTm9kZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBkID0gdGhpcy50YWdmb3JtOwogICAgICB0aGlzLiRjb25maXJtKCLnoa7lrprliKDpmaToioLngrkiICsgZC5uYW1lICsgIuWSjOebuOWFs+i/nue6v+eahOWQl++8nyIsICLmj5DnpLoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5ub2RlcyA9IF90aGlzLm5vZGVzLmZpbHRlcihmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYuaWQgIT0gZC5pZDsKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5saW5rcyA9IF90aGlzLmxpbmtzLmZpbHRlcihmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYudGFyZ2V0ICE9IGQuaWQgJiYgdi5zb3VyY2UgIT0gZC5pZDsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuY2xvc2UoKTsKCiAgICAgICAgX3RoaXMudXBkYXRlRDMoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIG9rOiBmdW5jdGlvbiBvaygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLnRhZ2Zvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZCA9IF90aGlzMi50YWdmb3JtOwoKICAgICAgICAgIGlmICgvXlxkKy8udGVzdChkLnR5cGUpKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKCLoioLngrnlkI3kuI3og73ku6XmlbDlrZfkuLrlvIDlpLQiKTsKCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMyLiRyZWZzLmlucHV0UHJvcC5lbWl0SW5wdXQoKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBvYmpOYW1lID0gIiI7IC8vIOWchuWciOS4iuaYvuekuueahOWGheWuuQoKICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBkLnByb3BlcnRpZXMgfHwge307CgogICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcGVydGllcykgewogICAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wZXJ0aWVzLCBrZXkpICYmIHByb3BlcnRpZXNba2V5XSkgewogICAgICAgICAgICAgICAgb2JqTmFtZSA9IHByb3BlcnRpZXNba2V5XTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghb2JqTmFtZSkgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKCJwcm9wZXJ0aWVz6Iez5bCR6ZyA6KaB5b2V5YWl5LiA5p2h5YaF5a65Iik7CgogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSAvLyBpZiAoIShkLnByb3BlcnRpZXN8fHt9KS5uYW1lKSB7CiAgICAgICAgICAgIC8vICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7flvZXlhaVwcm9wZXJ0aWVz5LitbmFtZeeahOWAvCcpCiAgICAgICAgICAgIC8vICAgcmV0dXJuCiAgICAgICAgICAgIC8vIH0KCgogICAgICAgICAgICB2YXIgaW5kZXg7CgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzMi5ub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHZhciBpdCA9IF90aGlzMi5ub2Rlc1tpXTsgLy8gaWYgKCFkLmlkICYmIHRoaXMubm9kZXNbaV0udHlwZSA9PSBkLnR5cGUpIHsKICAgICAgICAgICAgICAvLyAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6IqC54K55ZCN5bey5a2Y5ZyoJykKICAgICAgICAgICAgICAvLyAgIHJldHVybgogICAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgICAgaWYgKGl0LmlkID09IGQuaWQpIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChpdC50eXBlID09IF90aGlzMi50YWdmb3JtLnR5cGUpIHsKICAgICAgICAgICAgICAgIGl0LnN0eWxlID0gewogICAgICAgICAgICAgICAgICBmaWxsOiBkLmZpbGwsCiAgICAgICAgICAgICAgICAgIHN0cm9rZTogZC5zdHJva2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgbm9kZXMgPSB7CiAgICAgICAgICAgICAgaWQ6IGQuaWQgfHwgaWQrKyArICIiLAogICAgICAgICAgICAgIG5hbWU6IG9iak5hbWUsCiAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIGZpbGw6IGQuZmlsbCwKICAgICAgICAgICAgICAgIHN0cm9rZTogZC5zdHJva2UKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHR5cGU6IGQudHlwZSwKICAgICAgICAgICAgICBzaXplOiAiMjAiLAogICAgICAgICAgICAgIHByb3BlcnRpZXM6IGQucHJvcGVydGllcwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgaWYgKGluZGV4ICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIF90aGlzMi5ub2Rlc1tpbmRleF0gPSBub2RlczsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIubm9kZXMucHVzaChub2Rlcyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwoKICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZUQzKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldENvbG9yOiBmdW5jdGlvbiBzZXRDb2xvcigpIHsKICAgICAgaWYgKHRoaXMudGFnZm9ybS50eXBlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaXQgPSB0aGlzLm5vZGVzW2ldOwoKICAgICAgICAgIGlmIChpdC50eXBlID09IHRoaXMudGFnZm9ybS50eXBlKSB7CiAgICAgICAgICAgIHRoaXMudGFnZm9ybS5maWxsID0gaXQuc3R5bGUuZmlsbDsKICAgICAgICAgICAgdGhpcy50YWdmb3JtLnN0cm9rZSA9IGl0LnN0eWxlLnN0cm9rZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgb3BlbjI6IGZ1bmN0aW9uIG9wZW4yKCkgewogICAgICB0aGlzLnRlbXBMaW5rcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5saW5rcykpOwogICAgICB0aGlzLnZpc2libGUyID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZTI6IGZ1bmN0aW9uIGNsb3NlMigpIHsKICAgICAgdGhpcy52aXNpYmxlMiA9IGZhbHNlOwogICAgfSwKICAgIG9rMjogZnVuY3Rpb24gb2syKCkgewogICAgICB2YXIgbGlua3MgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50ZW1wTGlua3MubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXQgPSB0aGlzLnRlbXBMaW5rc1tpXTsKCiAgICAgICAgaWYgKCFpdC50YXJnZXQgfHwgIWl0LnNvdXJjZSB8fCAhaXQudHlwZSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fooaXlhajkv6Hmga/vvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICgvXlxkKy8udGVzdChpdC50eXBlKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLlhbPns7vmj4/ov7DkuI3og73ku6XmlbDlrZfkuLrlvIDlpLQiKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFpdC5jb2xvcikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6npopzoibLvvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChpdC5zb3VyY2UgPT0gaXQudGFyZ2V0KSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoInNvdXJjZeWSjHRhcmdldOS4jeiDveS4uuWQjOS4gOS4quiKgueCue+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxpbmtzLmluY2x1ZGVzKGl0LnNvdXJjZSArIGl0LnRhcmdldCkgLy8gfHwgbGlua3MuaW5jbHVkZXMoaXQudGFyZ2V0ICsgaXQuc291cmNlKQogICAgICAgICkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaciemHjeWkjeeahOi/nue6v++8gSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgIGxpbmtzLnB1c2goaXQuc291cmNlICsgaXQudGFyZ2V0KTsgLy8gbGlua3MucHVzaChpdC50YXJnZXQgKyBpdC5zb3VyY2UpOwogICAgICB9CgogICAgICB0aGlzLmxpbmtzID0gdGhpcy50ZW1wTGlua3M7CiAgICAgIHRoaXMuY2xvc2UyKCk7CiAgICAgIHRoaXMudXBkYXRlRDMoKTsKICAgIH0sCiAgICB1cGRhdGVEMzogZnVuY3Rpb24gdXBkYXRlRDMoKSB7CiAgICAgIHRoaXMuZC51cGRhdGUoewogICAgICAgIG5vZGVzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubm9kZXMpKSwKICAgICAgICBsaW5rczogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmxpbmtzKSkKICAgICAgfSk7CiAgICB9LAogICAgYWRkTGluazogZnVuY3Rpb24gYWRkTGluaygpIHsKICAgICAgdGhpcy50ZW1wTGlua3MucHVzaCh7CiAgICAgICAgaWQ6IGlkKysgKyAiIiwKICAgICAgICBzb3VyY2U6ICIiLAogICAgICAgIHNpemU6ICIxIiwKICAgICAgICBjb2xvcjogIiM1NDU0NTQiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIHRhcmdldDogIiIKICAgICAgfSk7CiAgICB9LAogICAgZGVsTGluazogZnVuY3Rpb24gZGVsTGluayhpKSB7CiAgICAgIHRoaXMudGVtcExpbmtzLnNwbGljZShpLCAxKTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJZEMwogICAgc3RhcnREMzogZnVuY3Rpb24gc3RhcnREMyhub2RlcywgbGlua3MpIHsKICAgICAgdGhpcy5kID0gRHJhd0ZvcmNlLmluaXQoInN2ZyIsIHsKICAgICAgICB3aWR0aDogd2luZG93LmRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgsCiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsCiAgICAgICAgbm9kZXM6IG5vZGVzLAogICAgICAgIGxpbmtzOiBsaW5rcywKICAgICAgICBzdmdDbGljazogdGhpcy5zdmdDbGljaywKICAgICAgICB0ZXh0Q2xpY2s6IHRoaXMub3BlbjIKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLiRyZWZzLnN2Z0Rpdi5pbm5lckhUTUwgPSAiIjsKICAgIH0sCiAgICBvcGVuMzogZnVuY3Rpb24gb3BlbjMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubm9kZXMgJiYgdGhpcy5ub2Rlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgdmFyIGlkcyA9IHRoaXMubm9kZXMubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5pZDsKICAgICAgICB9KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmtzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgaXQgPSB0aGlzLmxpbmtzW2ldOwogICAgICAgICAgdmFyIGlkaTEgPSBpZHMuaW5kZXhPZihpdC50YXJnZXQpOwoKICAgICAgICAgIGlmIChpZGkxID4gLTEpIHsKICAgICAgICAgICAgaWRzLnNwbGljZShpZGkxLCAxKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgaWRpMiA9IGlkcy5pbmRleE9mKGl0LnNvdXJjZSk7CgogICAgICAgICAgaWYgKGlkaTIgPiAtMSkgewogICAgICAgICAgICBpZHMuc3BsaWNlKGlkaTIsIDEpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuaJgOacieiKgueCuemDvemcgOimgea3u+WKoOi/nuaOpe+8jOivt+ajgOafpe+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kcHJvbXB0KCLor7fovpPlhaXmqKHmnb/lkI0iLCAi5o+Q56S6IiwgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICBpbnB1dFBhdHRlcm46IC8uezAsNTB9Py8sCiAgICAgICAgICBpbnB1dEVycm9yTWVzc2FnZTogIuaooeadv+WQjeagvOW8j+S4jeato+ehriIKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgIG1vZGVsbmFtZTogdmFsdWUsCiAgICAgICAgICAgIG5vZGVzOiBfdGhpczMubm9kZXMsCiAgICAgICAgICAgIGVkZ2VzOiBfdGhpczMubGlua3MKICAgICAgICAgIH07CiAgICAgICAgICBheGlvcy5nZXQoIi9zYXZlTW9kZWw/bW9kZWxTdHJpbmc9IiArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShkYXRhKSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsgLy8g6LCD5o6l5Y+jCiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6Iez5bCR6ZyA6KaB5Lik5Liq6IqC54K577yBIik7CiAgICAgIH0KICAgIH0sCiAgICB3aW5kb3dSZXNpemU6IGZ1bmN0aW9uIHdpbmRvd1Jlc2l6ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnJlc2V0KCk7CgogICAgICAgIHRpbWVyID0gdW5kZWZpbmVkOwoKICAgICAgICBfdGhpczQuc3RhcnREMyhfdGhpczQubm9kZXMsIF90aGlzNC5saW5rcyk7CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgLy8g54K55Ye7c3Zn5pe255qE5aSE55CGCiAgICBzdmdDbGljazogZnVuY3Rpb24gc3ZnQ2xpY2soZGF0YSkgewogICAgICBpZiAoZGF0YSkgewogICAgICAgIHRoaXMub3BlbjEoZGF0YSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZC5oaWdobGlnaHRPYmplY3QoKTsKICAgICAgdGhpcy5zdmdGb2N1cyA9IGZhbHNlOwogICAgfSwKICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoKSB7CiAgICAgIHRoaXMubm9kZXMgPSBbXTsKICAgICAgdGhpcy5saW5rcyA9IFtdOwogICAgICB0aGlzLnN0YXJ0RDModGhpcy5ub2RlcywgdGhpcy5saW5rcyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZXREYXRhKCk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy53aW5kb3dSZXNpemUpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy53aW5kb3dSZXNpemUpOwogIH0KfTs="},{"version":3,"sources":["AddTemplate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"content\">\r\n    <div class=\"tags\">\r\n      <div\r\n        style=\"\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          width: 100%;\r\n        \"\r\n      >\r\n        <div style=\"flex: 1\">\r\n          <el-button\r\n            type=\"primary\"\r\n            class=\"button-new-tag\"\r\n            size=\"small\"\r\n            @click=\"open1()\"\r\n            >新建节点</el-button\r\n          >\r\n          <el-button\r\n            type=\"primary\"\r\n            class=\"button-new-tag\"\r\n            size=\"small\"\r\n            style=\"margin-right: 20px\"\r\n            @click=\"open2()\"\r\n            >新建连线</el-button\r\n          >\r\n          <el-tag\r\n            v-for=\"(it, i) in tags\"\r\n            :key=\"i\"\r\n            type=\"info\"\r\n            size=\"mini\"\r\n            effect=\"dark\"\r\n            style=\"margin-left: 10px; cursor: pointer\"\r\n            :color=\"it.style.fill\"\r\n            >{{ it.type }}</el-tag\r\n          >\r\n        </div>\r\n        <div>\r\n          <el-button\r\n            type=\"success\"\r\n            class=\"button-new-tag\"\r\n            size=\"small\"\r\n            @click=\"open3()\"\r\n            >保存模板</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div ref=\"svgDiv\" id=\"svg\" :class=\"svgFocus ? 'cfocus' : ''\"></div>\r\n\r\n    <el-dialog\r\n      class=\"dialog-index\"\r\n      :visible=\"visible\"\r\n      title=\"节点信息\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"close\"\r\n      destroy-on-close\r\n      width=\"500px\"\r\n    >\r\n      <el-form\r\n        label-width=\"100px\"\r\n        ref=\"tagform\"\r\n        :model=\"tagform\"\r\n        :rules=\"tagRules\"\r\n        size=\"mini\"\r\n      >\r\n        <el-form-item label=\"节点名\" prop=\"type\">\r\n          <el-input\r\n            maxlength=\"50\"\r\n            v-model=\"tagform.type\"\r\n            placeholder=\"请输入节点名\"\r\n            @blur=\"setColor\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"properties\" prop=\"properties\">\r\n              <input-prop\r\n                ref=\"inputProp\"\r\n                :showPropList=\"false\"\r\n                v-model=\"tagform.properties\"\r\n              />\r\n              <!-- <el-select\r\n                style=\"width: 100%\"\r\n                v-model=\"tagform.properties\"\r\n                multiple\r\n                filterable\r\n                allow-create\r\n                default-first-option=\"\"\r\n                no-data-text=\"录入属性名，按回车键填充\"\r\n                placeholder=\"请录入节点属性\"\r\n              ></el-select> -->\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"填充颜色\" prop=\"fill\">\r\n              <el-color-picker\r\n                :predefine=\"predefineColors\"\r\n                style=\"width: 100%\"\r\n                v-model=\"tagform.fill\"\r\n              ></el-color-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"描边颜色\" prop=\"stroke\">\r\n              <el-color-picker\r\n                style=\"width: 100%\"\r\n                v-model=\"tagform.stroke\"\r\n              ></el-color-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click=\"close()\">取 消</el-button>\r\n        <el-button v-if=\"tagform.id\" size=\"small\" @click=\"delNode()\"\r\n          >删 除</el-button\r\n        >\r\n        <el-button size=\"small\" type=\"primary\" @click=\"ok()\">保 存</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      class=\"dialog-index\"\r\n      :visible=\"visible2\"\r\n      title=\"连线信息\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"close2\"\r\n      destroy-on-close\r\n      width=\"500px\"\r\n    >\r\n      <div>\r\n        <el-row v-for=\"(v, i) in tempLinks\" :key=\"i\" :gutter=\"8\">\r\n          <el-col :span=\"7\">\r\n            <el-select v-model=\"v.source\" size=\"mini\" placeholder=\"source\">\r\n              <el-option\r\n                v-for=\"(v, i) in nodes\"\r\n                :key=\"i\"\r\n                :label=\"v.name\"\r\n                :value=\"v.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-input\r\n              maxlength=\"50\"\r\n              v-model=\"v.type\"\r\n              size=\"mini\"\r\n              placeholder=\"关系描述\"\r\n            ></el-input>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <el-select v-model=\"v.target\" size=\"mini\" placeholder=\"target\">\r\n              <el-option\r\n                v-for=\"(v, i) in nodes\"\r\n                :key=\"i\"\r\n                :label=\"v.name\"\r\n                :value=\"v.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <el-color-picker\r\n              size=\"mini\"\r\n              style=\"width: 100%\"\r\n              v-model=\"v.color\"\r\n            ></el-color-picker>\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <el-button size=\"mini\" type=\"text\" @click=\"delLink(i)\"\r\n              >删除</el-button\r\n            >\r\n          </el-col>\r\n        </el-row>\r\n        <div>\r\n          <el-button type=\"text\" size=\"small\" @click=\"addLink\"\r\n            >新增连线</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click=\"close2()\">取 消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" @click=\"ok2()\">保 存</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DrawForce from \"@/plugins/drawForce\";\r\nimport axios from \"axios\";\r\nimport InputProp from \"./InputProp\";\r\n\r\nlet timer;\r\nlet id = 1;\r\nlet colori = 0;\r\nexport default {\r\n  name: \"AddTemplate\",\r\n  inject: [\"reload\"],\r\n  components: { InputProp },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      visible2: false,\r\n      nodes: [],\r\n      links: [],\r\n      tempLinks: [],\r\n      predefineColors: [\r\n        \"#ffcf3c\",\r\n        \"#c990c0\",\r\n        \"#f79767\",\r\n        \"#57c7e3\",\r\n        \"#f16667\",\r\n        \"#d9c8ae\",\r\n        \"#8dcc93\",\r\n        \"#ecb5c9\",\r\n        \"#4c8eda\",\r\n        \"#ffc454\",\r\n        \"#da7194\",\r\n        \"#569480\",\r\n      ],\r\n      tagform: {\r\n        id: null,\r\n        properties: {},\r\n        size: \"\",\r\n        fill: \"\",\r\n        stroke: \"\",\r\n        type: \"\",\r\n      },\r\n      tagRules: {\r\n        type: [{ required: true, message: \"请输入节点名\", trigger: \"blur\" }],\r\n        fill: [\r\n          { required: true, message: \"请选择一个填充颜色\", trigger: \"change\" },\r\n        ],\r\n        stroke: [\r\n          { required: true, message: \"请选择一个描边颜色\", trigger: \"change\" },\r\n        ],\r\n      },\r\n      svgFocus: false,\r\n      d: null,\r\n    };\r\n  },\r\n  computed: {\r\n    tags () {\r\n      let arr = []\r\n      let typeArr = []\r\n      if (this.nodes) {\r\n        for (let i = 0; i < this.nodes.length; i++) {\r\n          const it = this.nodes[i];\r\n          if (!typeArr.includes(it.type)) {\r\n            arr.push(it)\r\n            typeArr.push(it.type)\r\n          }\r\n        }\r\n      }\r\n      return arr\r\n    }\r\n  },\r\n  methods: {\r\n    getPredefineColors() {\r\n      return this.predefineColors[colori++]\r\n    },\r\n    open1(row) {\r\n      row = row || {};\r\n      this.tagform = {\r\n        id: row.id || null,\r\n        name: row.name || \"\",\r\n        properties: row.properties || { name: \"\" },\r\n        size: row.size || \"\",\r\n        fill: (row.style || {}).fill || this.getPredefineColors(),\r\n        stroke: (row.style || {}).stroke || \"#FFFFFF\",\r\n        type: row.type || \"\",\r\n      };\r\n      if (colori >= this.predefineColors.length) colori = 0;\r\n      this.visible = true;\r\n    },\r\n    close() {\r\n      this.visible = false;\r\n    },\r\n    delNode() {\r\n      let d = this.tagform;\r\n      this.$confirm(\"确定删除节点\" + d.name + \"和相关连线的吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.nodes = this.nodes.filter((v) => v.id != d.id);\r\n          this.links = this.links.filter((v) => {\r\n            return v.target != d.id && v.source != d.id;\r\n          });\r\n          this.close();\r\n          this.updateD3();\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    ok() {\r\n      this.$refs.tagform.validate((valid) => {\r\n        if (valid) {\r\n          let d = this.tagform;\r\n          if (/^\\d+/.test(d.type)) {\r\n            this.$message.warning(\"节点名不能以数字为开头\");\r\n            return;\r\n          }\r\n          if (this.$refs.inputProp.emitInput()) {\r\n            return;\r\n          }\r\n          this.$nextTick(() => {\r\n            let objName = \"\"; // 圆圈上显示的内容\r\n            let properties = d.properties || {};\r\n            for (const key in properties) {\r\n              if (\r\n                Object.hasOwnProperty.call(properties, key) &&\r\n                properties[key]\r\n              ) {\r\n                objName = properties[key];\r\n              }\r\n            }\r\n            if (!objName) {\r\n              this.$message.warning(\"properties至少需要录入一条内容\");\r\n              return;\r\n            }\r\n            // if (!(d.properties||{}).name) {\r\n            //   this.$message.warning('请录入properties中name的值')\r\n            //   return\r\n            // }\r\n            let index;\r\n            for (let i = 0; i < this.nodes.length; i++) {\r\n              const it = this.nodes[i];\r\n              // if (!d.id && this.nodes[i].type == d.type) {\r\n              //   this.$message.warning('节点名已存在')\r\n              //   return\r\n              // }\r\n              if (it.id == d.id) {\r\n                index = i;\r\n              }\r\n              if (it.type == this.tagform.type) {\r\n                  it.style = { fill: d.fill, stroke: d.stroke }\r\n              }\r\n            }\r\n            let nodes = {\r\n              id: d.id || id++ + \"\",\r\n              name: objName,\r\n              style: { fill: d.fill, stroke: d.stroke },\r\n              type: d.type,\r\n              size: \"20\",\r\n              properties: d.properties,\r\n            };\r\n            if (index != undefined) {\r\n              this.nodes[index] = nodes;\r\n            } else {\r\n              this.nodes.push(nodes);\r\n            }\r\n            this.close();\r\n            this.updateD3();\r\n          });\r\n        }\r\n      });\r\n    },\r\n    setColor() {\r\n      if(this.tagform.type) {\r\n        for (let i = 0; i < this.nodes.length; i++) {\r\n          const it = this.nodes[i];\r\n          if(it.type == this.tagform.type) {\r\n            this.tagform.fill = it.style.fill\r\n            this.tagform.stroke = it.style.stroke\r\n            break\r\n          }\r\n        }\r\n      }\r\n    },\r\n    open2() {\r\n      this.tempLinks = JSON.parse(JSON.stringify(this.links));\r\n      this.visible2 = true;\r\n    },\r\n    close2() {\r\n      this.visible2 = false;\r\n    },\r\n    ok2() {\r\n      let links = [];\r\n      for (let i = 0; i < this.tempLinks.length; i++) {\r\n        const it = this.tempLinks[i];\r\n        if (!it.target || !it.source || !it.type) {\r\n          this.$message.warning(\"请补全信息！\");\r\n          return;\r\n        }\r\n        if (/^\\d+/.test(it.type)) {\r\n          this.$message.warning(\"关系描述不能以数字为开头\");\r\n          return true;\r\n        }\r\n        if (!it.color) {\r\n          this.$message.warning(\"请选择颜色！\");\r\n          return;\r\n        }\r\n        if (it.source == it.target) {\r\n          this.$message.warning(\"source和target不能为同一个节点！\");\r\n          return;\r\n        }\r\n        if (\r\n          links.includes(it.source + it.target)\r\n          // || links.includes(it.target + it.source)\r\n        ) {\r\n          this.$message.warning(\"有重复的连线！\");\r\n          return;\r\n        }\r\n        links.push(it.source + it.target);\r\n        // links.push(it.target + it.source);\r\n      }\r\n      this.links = this.tempLinks;\r\n      this.close2();\r\n      this.updateD3();\r\n    },\r\n    updateD3() {\r\n      this.d.update({\r\n        nodes: JSON.parse(JSON.stringify(this.nodes)),\r\n        links: JSON.parse(JSON.stringify(this.links)),\r\n      });\r\n    },\r\n    addLink() {\r\n      this.tempLinks.push({\r\n        id: id++ + \"\",\r\n        source: \"\",\r\n        size: \"1\",\r\n        color: \"#545454\",\r\n        type: \"\",\r\n        target: \"\",\r\n      });\r\n    },\r\n    delLink(i) {\r\n      this.tempLinks.splice(i, 1);\r\n    },\r\n    // 初始化D3\r\n    startD3(nodes, links) {\r\n      this.d = DrawForce.init(\"svg\", {\r\n        width: window.document.body.offsetWidth,\r\n        height: window.document.body.offsetHeight,\r\n        nodes,\r\n        links,\r\n        svgClick: this.svgClick,\r\n        textClick: this.open2,\r\n      });\r\n    },\r\n    reset() {\r\n      this.$refs.svgDiv.innerHTML = \"\";\r\n    },\r\n    open3() {\r\n      if (this.nodes && this.nodes.length > 1) {\r\n        let ids = this.nodes.map((v) => v.id);\r\n\r\n        for (let i = 0; i < this.links.length; i++) {\r\n          const it = this.links[i];\r\n          let idi1 = ids.indexOf(it.target);\r\n          if (idi1 > -1) {\r\n            ids.splice(idi1, 1);\r\n          }\r\n          let idi2 = ids.indexOf(it.source);\r\n          if (idi2 > -1) {\r\n            ids.splice(idi2, 1);\r\n          }\r\n        }\r\n        if (ids.length > 0) {\r\n          this.$message.warning(\"所有节点都需要添加连接，请检查！\");\r\n          return;\r\n        }\r\n        this.$prompt(\"请输入模板名\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          inputPattern: /.{0,50}?/,\r\n          inputErrorMessage: \"模板名格式不正确\",\r\n        })\r\n          .then(({ value }) => {\r\n            let data = {\r\n              modelname: value,\r\n              nodes: this.nodes,\r\n              edges: this.links,\r\n            };\r\n            axios\r\n              .get(\r\n                \"/saveModel?modelString=\" +\r\n                  encodeURIComponent(JSON.stringify(data))\r\n              )\r\n              .then(function (response) {\r\n                this.$message.success(\"保存成功\");\r\n                console.log(response);\r\n              })\r\n              .catch(function (error) {\r\n                console.log(error);\r\n              });\r\n            // 调接口\r\n          })\r\n          .catch(() => {});\r\n      } else {\r\n        this.$message.warning(\"至少需要两个节点！\");\r\n      }\r\n    },\r\n    windowResize() {\r\n      if (timer) clearTimeout(timer);\r\n      timer = setTimeout(() => {\r\n        this.reset();\r\n        timer = undefined;\r\n        this.startD3(this.nodes, this.links);\r\n      }, 300);\r\n    },\r\n    // 点击svg时的处理\r\n    svgClick(data) {\r\n      if (data) {\r\n        this.open1(data);\r\n      }\r\n      this.d.highlightObject();\r\n      this.svgFocus = false;\r\n    },\r\n    setData() {\r\n      this.nodes = [];\r\n      this.links = [];\r\n      this.startD3(this.nodes, this.links);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.setData();\r\n    window.addEventListener(\"resize\", this.windowResize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.windowResize);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  height: 100%;\r\n  width: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n  overflow-y: hidden;\r\n  background-color: #2e2d2d;\r\n  color: #fff;\r\n}\r\n#svg {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.tags {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 10px;\r\n  min-height: 20px;\r\n  border-bottom: 1px solid #555;\r\n  background-color: #ffffff0f;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.button-new-tag {\r\n  margin-left: 10px;\r\n  height: 20px;\r\n  padding: 0 5px;\r\n  line-height: 19px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}