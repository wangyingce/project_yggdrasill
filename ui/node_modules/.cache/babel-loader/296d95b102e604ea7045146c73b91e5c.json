{"remainingRequest":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/plugins/drawForce.js","dependencies":[{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/src/plugins/drawForce.js","mtime":1618221774000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eruda/Documents/GitHub/project_yggdrasill/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9lcnVkYS9Eb2N1bWVudHMvR2l0SHViL3Byb2plY3RfeWdnZHJhc2lsbC91aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Cgp2YXIgZDMgPSByZXF1aXJlKCdkMycpOwovKioNCiAqIOWFs+ezu+WKm+WvvOWQkeWbviAtIGQzLmpz5Yi25L2cICAg77yIcGMsd2Fw6YCa55So77yJDQogKiBAcGFyYW0gaWQgICAge3N0cmluZ30g54i25a655ZmoaWQNCiAqIEBwYXJhbSBjb25maWdQYXIgICAgICB7SlNPTuWvueixoX0gICAg6YWN572uDQogKi8KCgpleHBvcnQgZGVmYXVsdCB7CiAgY29uZmlnOiB7CiAgICB3aWR0aDogMzAwLAogICAgLy8g5oC755S75biDc3Zn55qE5a69CiAgICBoZWlnaHQ6IDMwMCwKICAgIG5vZGVzOiBbXSwKICAgIGxpbmtzOiBbXSwKICAgIGlzU2NhbGU6IHRydWUsCiAgICAvL+aYr+WQpuWQr+eUqOe8qeaUvuW5s+enu3pvb23lip/og70KICAgIHNjYWxlRXh0ZW50OiBbMC4xLCA0XSwKICAgIC8v57yp5pS+55qE5q+U5L6L5bC6CiAgICBjaGFyZ2VTdHJlbmd0aDogNDAwLAogICAgLy/kuIfmnInlvJXlipsKICAgIGNvbGxpZGU6IDcwLAogICAgLy/norDmkp7lipvnmoTlpKflsI8g77yI6IqC54K55LmL6Ze055qE6Ze06Led77yJCiAgICByOiAzMCwKICAgIC8vIOWktOWDj+eahOWNiuW+hCBbMzAgLSA0NV0KICAgIGxpbmtDb2xvcjogJyNiYWQ0ZWQnLAogICAgLy/pk77mjqXnur/pu5jorqTnmoTpopzoibIKICAgIG1hcmtlckNvbG9yOiAic3RlZWxibHVlIiwKICAgIHJlY3RGaWxsOiAiYmx1ZSIsCiAgICB0ZXh0RmlsbDogIiNjMmMyYzIiLAogICAgc3Ryb2tlV2lkdGg6IDIsCiAgICAvLyDlpLTlg4/lpJblm7TljIXoo7nnmoTlrr3luqYKICAgIHN2Z0NsaWNrOiBudWxsCiAgfSwKICBub2RlRGF0YTogbnVsbCwKICBpZDogbnVsbCwKICBzaW11bGF0aW9uOiBudWxsLAogIFNWRzogbnVsbCwKICBkZWZzOiBudWxsLAogIG1hcmtlcjogbnVsbCwKICByZWxNYXBfZzogbnVsbCwKICBsaW5rczogbnVsbCwKICBlZGdlczogbnVsbCwKICBjaXJjbGVzOiBudWxsLAogIHRleHRzOiBudWxsLAogIG1hcmtlcldpZHRoOiAxMCwKICBpbml0OiBmdW5jdGlvbiBpbml0KGlkLCBjb25maWdQYXIpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5pZCA9IGlkOwogICAgdGhpcy5ub2RlRGF0YSA9IG51bGw7CiAgICB0aGlzLmNvbmZpZyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5jb25maWcpLCBjb25maWdQYXIpOwoKICAgIHZhciBfdGhhdCA9IHRoaXM7IC8vIHZhciB0aW1lb3V0Oy8v5a6a5pe25ZmoCiAgICAvLyAxLiDliJvlu7rkuIDkuKrlipvlrabmqKHmi5/lmagKCgogICAgdGhpcy5zaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKHRoaXMuY29uZmlnLm5vZGVzKS5mb3JjZSgibGluayIsIGQzLmZvcmNlTGluayh0aGlzLmNvbmZpZy5saW5rcykuaWQoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQuaWQ7CiAgICB9KSkuZm9yY2UoImNlbnRlciIsIGQzLmZvcmNlQ2VudGVyKHRoaXMuY29uZmlnLndpZHRoIC8gMiArIDE1MCwgdGhpcy5jb25maWcuaGVpZ2h0IC8gMikpLmZvcmNlKCJjaGFyZ2UiLCBkMy5mb3JjZU1hbnlCb2R5KCkuc3RyZW5ndGgodGhpcy5jb25maWcuY2hhcmdlU3RyZW5ndGgpLmRpc3RhbmNlTWF4KDEwMCkpLmZvcmNlKCJjb2xsaWRlIiwgZDMuZm9yY2VDb2xsaWRlKHRoaXMuY29uZmlnLmNvbGxpZGUpLnN0cmVuZ3RoKDAuMikuaXRlcmF0aW9ucyg1KSkuYWxwaGFEZWNheSgwLjIpOyAvLyAyLuWIm+W7unN2Z+agh+etvgoKICAgIHRoaXMuU1ZHID0gZDMuc2VsZWN0KCIjIiArIGlkKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgdGhpcy5jb25maWcud2lkdGgpLmF0dHIoImhlaWdodCIsIHRoaXMuY29uZmlnLmhlaWdodCkuY2FsbChkMy56b29tKCkuc2NhbGVFeHRlbnQodGhpcy5jb25maWcuc2NhbGVFeHRlbnQpLm9uKCJ6b29tIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGlmIChfdGhpcy5jb25maWcuaXNTY2FsZSkgewogICAgICAgIF90aGF0LnJlbE1hcF9nLmF0dHIoInRyYW5zZm9ybSIsIGV2ZW50LnRyYW5zZm9ybSk7CiAgICAgIH0KICAgIH0pKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSAhPSAnY2lyY2xlJyAmJiBlLnRhcmdldC50YWdOYW1lICE9ICdDSVJDTEUnKSB7CiAgICAgICAgX3RoaXMubm9kZURhdGEgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoX3RoaXMuY29uZmlnLnN2Z0NsaWNrKSB7CiAgICAgICAgX3RoaXMuY29uZmlnLnN2Z0NsaWNrKF90aGlzLm5vZGVEYXRhKTsKICAgICAgfQogICAgfSkub24oImRibGNsaWNrLnpvb20iLCBudWxsKTsKICAgIHRoaXMuZGVmcyA9IHRoaXMuU1ZHLmFwcGVuZCgnZGVmcycpOyAvLyDmt7vliqDnrq3lpLQKCiAgICB0aGlzLm1hcmtlciA9IHRoaXMuZGVmcy5hcHBlbmQoIm1hcmtlciIpLmF0dHIoJ2lkJywgIm1hcmtlciIpLmF0dHIoIm1hcmtlcldpZHRoIiwgdGhpcy5tYXJrZXJXaWR0aCkgLy9tYXJrZXLop4bnqpfnmoTlrr0KICAgIC5hdHRyKCJtYXJrZXJIZWlnaHQiLCB0aGlzLm1hcmtlcldpZHRoKSAvL21hcmtlcuinhueql+eahOmrmAogICAgLmF0dHIoInJlZlgiLCB0aGlzLmNvbmZpZy5yICsgNiArIHRoaXMuY29uZmlnLnN0cm9rZVdpZHRoKSAvL3JlZljlkoxyZWZZ77yM5oyH55qE5piv5Zu+5b2i5YWD57Sg5ZKMbWFya2Vy6L+e5o6l55qE5L2N572u5Z2Q5qCHCiAgICAuYXR0cigicmVmWSIsIDQpLmF0dHIoIm9yaWVudCIsICJhdXRvIikgLy9vcmllbnQ9ImF1dG8i6K6+572u566t5aS055qE5pa55ZCR5Li66Ieq5Yqo6YCC5bqU57q/5p2h55qE5pa55ZCRCiAgICAuYXR0cigibWFya2VyVW5pdHMiLCAidXNlclNwYWNlT25Vc2UiKSAvL21hcmtlcuaYr+WQpui/m+ihjOe8qeaUviAs6buY6K6k5YC85pivc3Ryb2tlV2lkdGgs5Lya57yp5pS+CiAgICAuYXBwZW5kKCJwYXRoIikuYXR0cigiZCIsICJNIDAgMCA4IDQgMCA4WiIpLmF0dHIoImZpbGwiLCB0aGlzLmNvbmZpZy5tYXJrZXJDb2xvcik7CiAgICB0aGlzLnNldFBhdHRlcm5zKCk7IC8vIOaUvuWFs+ezu+WbvueahOWuueWZqAoKICAgIHRoaXMucmVsTWFwX2cgPSB0aGlzLlNWRy5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsICJyZWxNYXBfZyIpLmF0dHIoIndpZHRoIiwgdGhpcy5jb25maWcud2lkdGgpLmF0dHIoImhlaWdodCIsIHRoaXMuY29uZmlnLmhlaWdodCk7CiAgICB0aGlzLmdlZGdlcyA9IHRoaXMucmVsTWFwX2cuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZWRnZXMnKTsKICAgIHRoaXMuc2V0RWRnZXMoKTsKICAgIHRoaXMuc2V0Q2lyY2xlcygpOwogICAgdGhpcy5zaW11bGF0aW9uVGljaygpOwogICAgcmV0dXJuIHRoaXM7CiAgfSwKICAvLyDmt7vliqDlpJrkuKrlpLTlg4/lm77niYfnmoQgPHBhdHRlcm4+CiAgc2V0UGF0dGVybnM6IGZ1bmN0aW9uIHNldFBhdHRlcm5zKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy5kZWZzLnNlbGVjdEFsbCgicGF0dGVybi5wYXR0ZXJuY2xhc3MiKS5yZW1vdmUoKTsKICAgIHZhciBzID0gdGhpcy5kZWZzLnNlbGVjdEFsbCgicGF0dGVybi5wYXR0ZXJuY2xhc3MiKS5kYXRhKHRoaXMuY29uZmlnLm5vZGVzKTsgLy8gcy5leGl0KCkucmVtb3ZlKCkKCiAgICB2YXIgcGF0dGVybnMgPSBzLmVudGVyKCkuYXBwZW5kKCJwYXR0ZXJuIikuYXR0cigiY2xhc3MiLCAicGF0dGVybmNsYXNzIikuYXR0cigiaWQiLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gJ2F2YXRhcicgKyBfdGhpczIuaWQgKyBkLmlkOwogICAgfSkuYXR0cigid2lkdGgiLCAiMSIpLmF0dHIoImhlaWdodCIsICIxIik7IC8vIOWnk+WQjeeahOiDjOaZrwoKICAgIHBhdHRlcm5zLmFwcGVuZCgicmVjdCIpLmF0dHIoIngiLCAiMCIpLmF0dHIoInkiLCAwKS5hdHRyKCJ3aWR0aCIsIDIgKiB0aGlzLmNvbmZpZy5yKS5hdHRyKCJoZWlnaHQiLCAyICogdGhpcy5jb25maWcucikuYXR0cigiZmlsbCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLnN0eWxlLmZpbGwgfHwgX3RoaXMyLmNvbmZpZy5yZWN0RmlsbDsKICAgIH0pOyAvLyDlp5PlkI0KCiAgICBwYXR0ZXJucy5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgdGhpcy5jb25maWcucikuYXR0cigieSIsIDEuMTQgKiB0aGlzLmNvbmZpZy5yKS5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS5hdHRyKCJmaWxsIiwgIiNmZmYiKS5zdHlsZSgiZm9udC1zaXplIiwgdGhpcy5jb25maWcuciAvIDMpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQubmFtZTsKICAgIH0pOwogIH0sCiAgc2V0RWRnZXM6IGZ1bmN0aW9uIHNldEVkZ2VzKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdmFyIF90aGF0ID0gdGhpczsKCiAgICB0aGlzLmdlZGdlcy5zZWxlY3RBbGwoImcuZWRnZSIpLnJlbW92ZSgpOwogICAgdmFyIHMgPSB0aGlzLmdlZGdlcy5zZWxlY3RBbGwoImcuZWRnZSIpLmRhdGEodGhpcy5jb25maWcubGlua3MpOyAvLyBzLmV4aXQoKS5yZW1vdmUoKQoKICAgIHZhciBlZGdlcyA9IHMuZW50ZXIoKS5hcHBlbmQoImciKS5hdHRyKCJjbGFzcyIsICJlZGdlIik7IC8vIDUuMiDmt7vliqDnur8KCiAgICBlZGdlcy5hcHBlbmQoInBhdGgiKS5hdHRyKCJjbGFzcyIsICJsaW5rcyIpLmF0dHIoImlkIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuICdwYXRoJyArIF90aGF0LmlkICsgZC5pZDsKICAgIH0pIC8vIHRoaXMuY29uZmlnLnIgKyB0aGlzLm1hcmtlcldpZHRoIOWchuWNiuW+hOWKoOeureWktOWuveW6pgogICAgLmF0dHIoImQiLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gIk0iICsgKF90aGF0LmNvbmZpZy5yICsgX3RoYXQubWFya2VyV2lkdGgpICsgIiwiICsgMCArICIgTCIgKyBnZXREaXMoZC5zb3VyY2UsIGQudGFyZ2V0KSArICIsMCI7CiAgICB9KS5zdHlsZSgibWFya2VyLWVuZCIsICJ1cmwoI21hcmtlcikiKS5hdHRyKCdzdHJva2UnLCBmdW5jdGlvbiAoZCkgewogICAgICB2YXIgc3RyID0gZC5jb2xvciA/IGQuY29sb3IgOiBfdGhhdC5jb25maWcubGlua0NvbG9yOwogICAgICByZXR1cm4gc3RyOwogICAgfSk7IC8vIOaWh+acrOagh+etviAg5Z2Q5qCH77yIeCx577yJ5Luj6KGoIOaWh+acrOeahOW3puS4i+inkueahOeCuQoKICAgIGVkZ2VzLmFwcGVuZCgidGV4dCIpLmF0dHIoImNsYXNzIiwgInRleHRzIikuYXR0cigneScsIC0yKS5hdHRyKCdmaWxsJywgdGhpcy5jb25maWcudGV4dEZpbGwpLmF0dHIoInRleHQtYW5jaG9yIiwgImVuZCIpLnN0eWxlKCJjdXJzb3IiLCAicG9pbnRlciIpLnN0eWxlKCJmb250LXNpemUiLCA4KS50ZXh0KGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLnR5cGU7CiAgICB9KS5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkgewogICAgICBkMy5zZWxlY3QodGhpcykuYXR0cignZmlsbCcsICcjZmZmZmZmJykuc3R5bGUoImZvbnQtc2l6ZSIsIDEwKTsKICAgIH0pLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2ZpbGwnLCBfdGhhdC5jb25maWcudGV4dEZpbGwpLnN0eWxlKCJmb250LXNpemUiLCA4KTsKICAgIH0pLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMzLmNvbmZpZy50ZXh0Q2xpY2sgJiYgX3RoaXMzLmNvbmZpZy50ZXh0Q2xpY2soKTsKICAgIH0pOyAvLyAuYXBwZW5kKCd0ZXh0UGF0aCcpLmF0dHIoJ3l4bGluazpocmVmJywgZnVuY3Rpb24oZCkgewogICAgLy8gICByZXR1cm4gKCJ1cmwoI3BhdGgiICsgX3RoYXQuaWQgKyBkLmlkICsgIikiKQogICAgLy8gfSkKCiAgICB0aGlzLmVkZ2VzID0gdGhpcy5nZWRnZXMuc2VsZWN0QWxsKCJnLmVkZ2UiKTsKICAgIHRoaXMubGlua3MgPSB0aGlzLmdlZGdlcy5zZWxlY3RBbGwoInBhdGgubGlua3MiKTsKICAgIHRoaXMudGV4dHMgPSB0aGlzLmdlZGdlcy5zZWxlY3RBbGwoInRleHQudGV4dHMiKTsKICB9LAogIC8vIOWFs+ezu+Wbvua3u+WKoOeUqOS6juaYvuekuuWktOWDj+eahOiKgueCuQogIHNldENpcmNsZXM6IGZ1bmN0aW9uIHNldENpcmNsZXMoKSB7CiAgICB2YXIgX3RoYXQgPSB0aGlzOwoKICAgIHRoaXMucmVsTWFwX2cuc2VsZWN0QWxsKCJjaXJjbGUuY2lyY2xlY2xhc3MiKS5yZW1vdmUoKTsKICAgIHZhciBzID0gdGhpcy5yZWxNYXBfZy5zZWxlY3RBbGwoImNpcmNsZS5jaXJjbGVjbGFzcyIpLmRhdGEodGhpcy5jb25maWcubm9kZXMpOyAvLyBzLmV4aXQoKS5yZW1vdmUoKQoKICAgIHMuZW50ZXIoKS5hcHBlbmQoImNpcmNsZSIpLmF0dHIoImNsYXNzIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuICJjaXJjbGVjbGFzcyBpIiArIGQudHlwZUtleTsKICAgIH0pLnN0eWxlKCJjdXJzb3IiLCAicG9pbnRlciIpLmF0dHIoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gInVybCgjYXZhdGFyIiArIF90aGF0LmlkICsgZC5pZCArICIpIjsKICAgIH0pLmF0dHIoInN0cm9rZSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIHJldHVybiBkLnN0eWxlLnN0cm9rZSB8fCAiI2NjZjFmYyI7CiAgICB9KS5hdHRyKCJzdHJva2Utd2lkdGgiLCB0aGlzLmNvbmZpZy5zdHJva2VXaWR0aCkuYXR0cigiciIsIHRoaXMuY29uZmlnLnIpLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdzdHJva2Utd2lkdGgnLCAnNCcpOwogICAgICBkMy5zZWxlY3QodGhpcykuYXR0cignc3Ryb2tlJywgJyNhM2U1ZjknKTsKICAgIH0pLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ3N0cm9rZS13aWR0aCcsIF90aGF0LmNvbmZpZy5zdHJva2VXaWR0aCk7CiAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdzdHJva2UnLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnN0eWxlLnN0cm9rZSB8fCAiI2NjZjFmYyI7CiAgICAgIH0pOwogICAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50LCBkKSB7CiAgICAgIF90aGF0Lm5vZGVEYXRhID0gZDsKICAgIH0pLm9uKCJkYmxjbGljayIsIGZ1bmN0aW9uIChldmVudCwgZCkgewogICAgICBfdGhhdC5oaWdobGlnaHRPYmplY3QoZCk7CiAgICB9KS5jYWxsKGRyYWcodGhpcy5zaW11bGF0aW9uKSk7CiAgICB0aGlzLmNpcmNsZXMgPSB0aGlzLnJlbE1hcF9nLnNlbGVjdEFsbCgiY2lyY2xlLmNpcmNsZWNsYXNzIik7CiAgfSwKICBzaW11bGF0aW9uVGljazogZnVuY3Rpb24gc2ltdWxhdGlvblRpY2soKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jb25maWcuciArIHRoaXMubWFya2VyV2lkdGg7CiAgICB0aGlzLnNpbXVsYXRpb24ub24oInRpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOS/ruaUueavj+adoeWuueWZqGVkZ2XnmoTkvY3nva4KICAgICAgX3RoaXM0LmVkZ2VzLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGdldFRyYW5zZm9ybShkLnNvdXJjZSwgZC50YXJnZXQsIGdldERpcyhkLnNvdXJjZSwgZC50YXJnZXQpKTsKICAgICAgfSk7IC8vIOS/ruaUueavj+adoee6v2xpbmvkvY3nva4KCgogICAgICBfdGhpczQubGlua3MuYXR0cigiZCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuICJNIiArIChfdGhpczQuY29uZmlnLnIgKyBfdGhpczQubWFya2VyV2lkdGgpICsgIiwiICsgMCArICIgTCIgKyBnZXREaXMoZC5zb3VyY2UsIGQudGFyZ2V0KSArICIsMCI7CiAgICAgIH0pOyAvLyDkv67mlLnnur/kuK3lhbPns7vmloflrZd0ZXh055qE5L2N572uIOWPiiDmloflrZfnmoTlj43mraMKCgogICAgICBfdGhpczQudGV4dHMuYXR0cigieCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgaWYgKGQudGFyZ2V0LnggPiBkLnNvdXJjZS54KSB7CiAgICAgICAgICByZXR1cm4gZ2V0RGlzKGQuc291cmNlLCBkLnRhcmdldCkgLSBvZmZzZXQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBvZmZzZXQ7CiAgICAgICAgfSAvLyByZXR1cm4gZC50YXJnZXQueCAtIGQuc291cmNlLnggKyA0MAoKICAgICAgfSkgLy8gLmF0dHIoIngiLCBmdW5jdGlvbiAoZCkgewogICAgICAvLyAgIHJldHVybiBnZXREaXMoZC5zb3VyY2UsIGQudGFyZ2V0KSAvIDIKICAgICAgLy8gfSkKICAgICAgLmF0dHIoInRleHQtYW5jaG9yIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICBpZiAoZC5zb3VyY2UueCA+IGQudGFyZ2V0LngpIHsKICAgICAgICAgIHJldHVybiAnc3RhcnQnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gJ2VuZCc7CiAgICAgICAgfSAvLyByZXR1cm4gZC50YXJnZXQueCAtIGQuc291cmNlLnggKyA0MAoKICAgICAgfSkgLy8gLmF0dHIoIngiLCB0aGlzLmNvbmZpZy5yICsgdGhpcy5tYXJrZXJXaWR0aCkKICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgLy8g5pu05paw5paH5pys5Y+N5q2jCiAgICAgICAgaWYgKGQudGFyZ2V0LnggPCBkLnNvdXJjZS54KSB7CiAgICAgICAgICB2YXIgeCA9IGdldERpcyhkLnNvdXJjZSwgZC50YXJnZXQpIC8gMjsKICAgICAgICAgIHJldHVybiAncm90YXRlKDE4MCAnICsgeCArICcgJyArIDAgKyAnKSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAncm90YXRlKDApJzsKICAgICAgICB9CiAgICAgIH0pOyAvLyDkv67mlLnoioLngrnnmoTkvY3nva4KCgogICAgICBfdGhpczQuY2lyY2xlcy5hdHRyKCJjeCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQueDsKICAgICAgfSkuYXR0cigiY3kiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKCiAgLyoqDQogICAqIOabtOaWsOinhuWbvg0KICAgKi8KICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShjb25maWdQYXIpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHRoaXMuY29uZmlnID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbmZpZyksIGNvbmZpZ1Bhcik7CiAgICB0aGlzLnNpbXVsYXRpb24ubm9kZXModGhpcy5jb25maWcubm9kZXMpLmZvcmNlKCJsaW5rIiwgZDMuZm9yY2VMaW5rKHRoaXMuY29uZmlnLmxpbmtzKS5pZChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZC5pZDsKICAgIH0pKS5hbHBoYVRhcmdldCgwLjIpLnJlc3RhcnQoKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpczUuc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTsKICAgIH0sIDIwMCk7CiAgICB0aGlzLnNldFBhdHRlcm5zKCk7CiAgICB0aGlzLnNldEVkZ2VzKCk7CiAgICB0aGlzLnNldENpcmNsZXMoKTsKICB9LAogIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKHR4dCwgYXR0cnMpIHsKICAgIGlmICghdHh0KSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KCiAgICB2YXIgcmVzID0gW107CiAgICB0aGlzLmNvbmZpZy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgYXR0ciA9IGF0dHJzW2ldOwoKICAgICAgICBpZiAodlthdHRyXSAmJiB2W2F0dHJdLmluZGV4T2YodHh0KSA+IC0xKSB7CiAgICAgICAgICByZXMucHVzaCh2KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHJlczsKICB9LAogIGhpZ2hsaWdodGVkOiBudWxsLAogIGRlcGVuZHNOb2RlOiBbXSwKICBkZXBlbmRzTGlua0FuZFRleHQ6IFtdLAogIGhpZ2hsaWdodE9iamVjdDogZnVuY3Rpb24gaGlnaGxpZ2h0T2JqZWN0KG9iaikgewogICAgdmFyIF90aGF0ID0gdGhpczsKCiAgICBpZiAob2JqKSB7CiAgICAgIHZhciBvYmpJbmRleCA9IG9iai5pbmRleDsKICAgICAgX3RoYXQuZGVwZW5kc05vZGUgPSBfdGhhdC5kZXBlbmRzTm9kZS5jb25jYXQoW29iakluZGV4XSk7CiAgICAgIF90aGF0LmRlcGVuZHNMaW5rQW5kVGV4dCA9IF90aGF0LmRlcGVuZHNMaW5rQW5kVGV4dC5jb25jYXQoW29iakluZGV4XSk7CgogICAgICBfdGhhdC5jb25maWcubGlua3MuZm9yRWFjaChmdW5jdGlvbiAobGtJdGVtKSB7CiAgICAgICAgaWYgKG9iakluZGV4ID09IGxrSXRlbVsnc291cmNlJ11bJ2luZGV4J10pIHsKICAgICAgICAgIF90aGF0LmRlcGVuZHNOb2RlID0gX3RoYXQuZGVwZW5kc05vZGUuY29uY2F0KFtsa0l0ZW0udGFyZ2V0LmluZGV4XSk7CiAgICAgICAgfSBlbHNlIGlmIChvYmpJbmRleCA9PSBsa0l0ZW1bJ3RhcmdldCddWydpbmRleCddKSB7CiAgICAgICAgICBfdGhhdC5kZXBlbmRzTm9kZSA9IF90aGF0LmRlcGVuZHNOb2RlLmNvbmNhdChbbGtJdGVtLnNvdXJjZS5pbmRleF0pOwogICAgICAgIH0KICAgICAgfSk7IC8vIOmakOiXj+iKgueCuQoKCiAgICAgIF90aGF0LlNWRy5zZWxlY3RBbGwoJ2NpcmNsZScpLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBfdGhhdC5kZXBlbmRzTm9kZS5pbmRleE9mKGQuaW5kZXgpID09IC0xOwogICAgICB9KS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwLjEpOyAvLyDpmpDol4/nur8KCgogICAgICBfdGhhdC5TVkcuc2VsZWN0QWxsKCcuZWRnZScpLmZpbHRlcihmdW5jdGlvbiAoZCkgewogICAgICAgIC8vIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBfdGhhdC5kZXBlbmRzTGlua0FuZFRleHQuaW5kZXhPZihkLnNvdXJjZS5pbmRleCkgPT0gLTEgJiYgX3RoYXQuZGVwZW5kc0xpbmtBbmRUZXh0LmluZGV4T2YoZC50YXJnZXQuaW5kZXgpID09IC0xOwogICAgICB9KS50cmFuc2l0aW9uKCkuc3R5bGUoJ29wYWNpdHknLCAwLjEpOwogICAgfSBlbHNlIHsKICAgICAgLy8g5oGi5aSN6ZqQ6JeP55qE57q/CiAgICAgIF90aGF0LlNWRy5zZWxlY3RBbGwoJ2NpcmNsZScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpOyAvLyDmgaLlpI3pmpDol4/nmoTnur8KCgogICAgICBfdGhhdC5TVkcuc2VsZWN0QWxsKCcuZWRnZScpLnRyYW5zaXRpb24oKS5zdHlsZSgnb3BhY2l0eScsIDEpOwoKICAgICAgX3RoYXQuaGlnaGxpZ2h0ZWQgPSBudWxsOwogICAgICBfdGhhdC5kZXBlbmRzTm9kZSA9IFtdOwogICAgICBfdGhhdC5kZXBlbmRzTGlua0FuZFRleHQgPSBbXTsKICAgIH0KICB9Cn07CgpmdW5jdGlvbiBkcmFnKHNpbXVsYXRpb24pIHsKICBmdW5jdGlvbiBkcmFnc3RhcnRlZChldmVudCkgewogICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMC4xKS5yZXN0YXJ0KCk7CiAgICBldmVudC5zdWJqZWN0LmZ4ID0gZXZlbnQuc3ViamVjdC54OwogICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50LnN1YmplY3QueTsKICB9CgogIGZ1bmN0aW9uIGRyYWdnZWQoZXZlbnQpIHsKICAgIGV2ZW50LnN1YmplY3QuZnggPSBldmVudC54OwogICAgZXZlbnQuc3ViamVjdC5meSA9IGV2ZW50Lnk7CiAgfQoKICBmdW5jdGlvbiBkcmFnZW5kZWQoZXZlbnQpIHsKICAgIGlmICghZXZlbnQuYWN0aXZlKSBzaW11bGF0aW9uLmFscGhhVGFyZ2V0KDApOwogICAgZXZlbnQuc3ViamVjdC5meCA9IG51bGw7CiAgICBldmVudC5zdWJqZWN0LmZ5ID0gbnVsbDsKICB9CgogIHJldHVybiBkMy5kcmFnKCkub24oInN0YXJ0IiwgZHJhZ3N0YXJ0ZWQpLm9uKCJkcmFnIiwgZHJhZ2dlZCkub24oImVuZCIsIGRyYWdlbmRlZCk7Cn0gLy8g5rGC5Lik54K56Ze055qE6Led56a7CgoKZnVuY3Rpb24gZ2V0RGlzKHMsIHQpIHsKICByZXR1cm4gTWF0aC5zcXJ0KChzLnggLSB0LngpICogKHMueCAtIHQueCkgKyAocy55IC0gdC55KSAqIChzLnkgLSB0LnkpKTsKfSAvLyDmsYLlhYPntKDnp7vliqjliLDnm67moIfkvY3nva7miYDpnIDopoHnmoQgdHJhbnNmb3JtIOWxnuaAp+WAvAoKCmZ1bmN0aW9uIGdldFRyYW5zZm9ybShzb3VyY2UsIHRhcmdldCwgX2RpcykgewogIHZhciByOwoKICBpZiAodGFyZ2V0LnggPiBzb3VyY2UueCkgewogICAgaWYgKHRhcmdldC55ID4gc291cmNlLnkpIHsKICAgICAgciA9IE1hdGguYXNpbigodGFyZ2V0LnkgLSBzb3VyY2UueSkgLyBfZGlzKTsKICAgIH0gZWxzZSB7CiAgICAgIHIgPSBNYXRoLmFzaW4oKHNvdXJjZS55IC0gdGFyZ2V0LnkpIC8gX2Rpcyk7CiAgICAgIHIgPSAtcjsKICAgIH0KICB9IGVsc2UgewogICAgaWYgKHRhcmdldC55ID4gc291cmNlLnkpIHsKICAgICAgciA9IE1hdGguYXNpbigodGFyZ2V0LnkgLSBzb3VyY2UueSkgLyBfZGlzKTsKICAgICAgciA9IE1hdGguUEkgLSByOwogICAgfSBlbHNlIHsKICAgICAgciA9IE1hdGguYXNpbigoc291cmNlLnkgLSB0YXJnZXQueSkgLyBfZGlzKTsKICAgICAgciAtPSBNYXRoLlBJOwogICAgfQogIH0KCiAgciA9IHIgKiAoMTgwIC8gTWF0aC5QSSk7CiAgcmV0dXJuICJ0cmFuc2xhdGUoIiArIHNvdXJjZS54ICsgIiwiICsgc291cmNlLnkgKyAiKXJvdGF0ZSgiICsgciArICIpIjsKfQ=="},null]}